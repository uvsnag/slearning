(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72066,e=>{"use strict";var t=e.i(80744);function n(e){let[n,l]=(0,t.useState)([]),[s,r]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),o="speechSynthesis"in window;(0,t.useEffect)(()=>{if(!o)return;let e=window.speechSynthesis,t=()=>{l(e.getVoices())};return l(e.getVoices()),e.addEventListener("voiceschanged",t),()=>{e.removeEventListener("voiceschanged",t)}},[o]);let c=(0,t.useCallback)(t=>{if(!o)return;let n=window.speechSynthesis;t.onstart=()=>r(!0),t.onend=()=>{r(!1),i(!1),e?.onEnd?.()},t.onerror=()=>r(!1),n.cancel(),n.speak(t)},[o,e]),u=(0,t.useCallback)(()=>{o&&(window.speechSynthesis.cancel(),r(!1),i(!1))},[o]),d=(0,t.useCallback)(()=>{o&&s&&(window.speechSynthesis.pause(),i(!0))},[o,s]);return{speak:c,speakText:(e,t,l)=>{let s=l.voice||"0",r=l.voice||"0",a=l.rate||"0.6",i=new window.SpeechSynthesisUtterance;i.text=e,i.rate=Number(a),t?i.voice=n[Number(s)]:i.voice=n[Number(r)],i.volume=l.volume,c(i)},cancel:u,pause:d,resume:(0,t.useCallback)(()=>{o&&a&&(window.speechSynthesis.resume(),i(!1))},[o,a]),speaking:s,paused:a,supported:o,voices:n}}e.s(["useSpeechSynthesis",()=>n])},97013,e=>{"use strict";var t=e.i(80642),n=e.i(28337);let l=(e,n,l)=>{let s=!1,r=[],a=n.split(""),i=e.split("");console.log("inputAns:",e);let o=0,c=0;for(;o<i.length+l;){let e={index:o,char:i[c],type:""};if((0,t.isEqualStr)(a[o],i[c],!0))e.type=0;else if(!1===s&&l>0){for(let t=0;t<l;t++)e.type=1,e.char="_",r.push(e),o+=1;s=!0;continue}else e.type=1;i[c]&&r.push(e),o++,c++}return a.length>i.length&&r.push({index:r.length,char:"_",type:1}),r};e.s(["TYPE_CORRECT",0,0,"TYPE_WRONG",0,1,"arrStrCheckToStr",0,e=>{let t="";for(let l=0;l<e.length;l++){let s=e[l];n.default.isEqual(null,s.type)||(n.default.isEqual(s.type,0)?t+="<span class ='ans-check-right'>":n.default.isEqual(s.type,1)?t+="<span class ='ans-check-wrong'>":n.default.isEqual(s.type,2)&&(t+="<span class ='ans-check-hint'>")),t+=s.char}return t+"</span>"},"autoCorrectLetter",0,(e,s)=>{let r=document.getElementById(e).value,a=l(r,s,0);for(let l=0;l<a.length;l++)if(n.default.isEqual(a[l].type,1)){r=(0,t.setCharAt)(r,l,s.substring(l,l+1)),document.getElementById(e).value=r;break}return a},"genHintStrAns",0,(e,t)=>{let s=l(document.getElementById(e).value,t,0);for(let e=0;e<s.length;e++)if(n.default.isEqual(s[e].type,1)){let n=t.substring(e,e+1);s[e].type=2,s[e].char=n;break}return s},"validateArrStrCheck",0,l])},17953,e=>{"use strict";var t=e.i(71866),n=e.i(80744),l=e.i(97968),s=e.i(72066),r=e.i(80642),a=e.i(97013),i=e.i(28337);let o=[],c=-1,u="";e.s(["default",0,()=>{let[e,d]=(0,n.useState)(0),{speak:h,voices:m}=(0,s.useSpeechSynthesis)(),[p,v]=(0,n.useState)(1),[g,y]=(0,n.useState)(""),[x,E]=(0,n.useState)(""),f=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=document.getElementById("numbWord"),t=document.getElementById("numWordBreak");e&&(e.value="2"),t&&(t.value="7")},[]),(0,n.useEffect)(()=>{m.forEach((e,t)=>{e.lang.includes("en-US")&&d(t)})},[m]);let b=e=>{var t=document.getElementById(`${e}`);t&&("block"===t.style.display||""===t.style.display)?t.style.display="none":t&&(t.style.display="block")},S=()=>{let e=document.getElementById("inputTxt"),t=e?e.value:"";o=(t=(0,r.replaceArr)(t,[",","?","(",")","!","—","-","=",'"','"',"\n",";"],".")).split("."),c=-1,y(""),k(),e&&(e.style.display="none"),f.current?.focus()},j=e=>/^-?[0-9]+$/.test(e+""),w=e=>{let t=(e=e.trim()).split(":");return!!(2===t.length&&j(t[0])&&j(t[0]))},k=()=>{i.default.isEmpty(o)&&(S(),i.default.isEmpty(o))||(c=C(c),E(u),u=(u=o[c].trim()).replaceAll("  "," "),N())},C=e=>((e+=1)>=o.length&&(e=0),i.default.isEmpty(o[e])?C(e):e),N=()=>{R(u)},B=()=>{let e=document.getElementById("answer"),t=e?e.value:"";if((0,r.isEqualStr)(u,t,!0)){let n=(0,a.validateArrStrCheck)(t,u,0);y((0,a.arrStrCheckToStr)(n)),k(),e&&(e.value="")}else{let e=(0,a.validateArrStrCheck)(t,u,0),n=(0,a.validateArrStrCheck)(t,u,1),l=(0,a.validateArrStrCheck)(t,u,2),s=e;I(s)<I(n)&&(s=n),I(s)<I(l)&&(s=l),y((0,a.arrStrCheckToStr)(s))}},I=e=>{let t=0;for(let n=0;n<e.length;n++)e[n].type===a.TYPE_CORRECT&&(t+=1);return t},T=()=>{console.log("ds");let e=document.getElementById("numbWord")?.value||"2",t=A(),n=(0,r.getPosition)(t," ",Number(e));n>0?R(t.substring(0,n)):R(t)},A=()=>{let e=document.getElementById("answer")?.value||"",t=0,n=(0,a.validateArrStrCheck)(e,u,0);for(let e=0;e<n.length;e++)if(i.default.isEqual(n[e].type,a.TYPE_WRONG)){t=e;break}let l=u.substring(0,t).lastIndexOf(" ");return u.substring(l,u.length)},R=e=>{var t=document.getElementById("voice")?.value||"0",n=document.getElementById("rate")?.value||"1",l=new window.SpeechSynthesisUtterance;l.text=e,l.rate=Number(n),l.voice=m[Number(t)],l.volume=1,h(l)};return(0,t.jsxs)("div",{className:"container-left listen-prac",children:[(0,t.jsxs)("div",{id:"control",children:[(0,t.jsx)("textarea",{id:"inputTxt",className:"area-input",onKeyDown:e=>{"PageUp"===e.nativeEvent.code&&(b("inputTxt"),f.current?.focus()),"PageDown"===e.nativeEvent.code&&(b("control"),f.current?.focus())}}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{className:"common-btn inline",id:"hideBtn",onClick:()=>b("inputTxt"),children:(0,t.jsx)(l.FaEyeSlash,{})}),(0,t.jsx)("span",{children:" "}),(0,t.jsx)("button",{className:"common-btn inline",id:"Start",onClick:()=>S(),children:"Start"}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>(()=>{let e=document.getElementById("inputTxt"),t=e?e.value:"",n="";{let e=t.split("\n");for(let t=0;t<e.length;t++)w(e[t])||(n+=`${e[t]} `)}n=(0,r.replaceArr)(n,["[","]",",","?","(",")","!","—","-",".","”","“","\n",";","  "]," ");let l=document.getElementById("numWordBreak"),s=l?l.value:"7",a="",i=0;for(let e=0;e<n.length;e++){if(" "===n[e]&&++i>=Number(s)){a+="*",i=0;continue}a+=n[e]}console.log(o=a.split("*")),c=-1,y(""),k(),e&&(e.style.display="none"),f.current?.focus()})(),children:"St2"}),(0,t.jsx)("input",{id:"numWordBreak",className:"width-30"}),(0,t.jsx)("span",{children:" "}),(0,t.jsxs)("select",{className:"common-btn inline width-120 ",id:"voice",name:"voice",value:e||"",onChange:e=>{d(Number(e.target.value))},children:[(0,t.jsx)("option",{value:"",children:"Default"}),m.map((e,n)=>(0,t.jsx)("option",{value:n,children:`${e.lang} - ${e.name}`},e.voiceURI))]}),(0,t.jsx)("input",{id:"numbWord",className:"width-30"}),(0,t.jsx)("span",{children:" "}),(0,t.jsxs)("div",{className:"mobile",children:[(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>B(),children:"c"}),(0,t.jsx)("span",{children:" "}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>T(),children:"ci"}),(0,t.jsx)("span",{children:" "}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>R(A()),children:"ce"})]}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{className:"width-220 range-color",type:"range",min:"0.2",max:"1.5",defaultValue:"1",step:"0.1",id:"rate",onChange:e=>{v(Number(e.target.value))}}),(0,t.jsx)("span",{className:"rate-value",children:p}),(0,t.jsxs)("div",{className:"tooltip",children:["?",(0,t.jsxs)("span",{className:"tooltiptext",children:["Enter :check",(0,t.jsx)("br",{}),"ShiftLeft: hint 1 letter",(0,t.jsx)("br",{}),"ControlLeft: correct 1 letter",(0,t.jsx)("br",{}),"Insert: speak all",(0,t.jsx)("br",{}),"ShiftRight: speak error word -",">"," end",(0,t.jsx)("br",{}),"ControlRight: speak error word -",">"," i",(0,t.jsx)("br",{}),"End: next question",(0,t.jsx)("br",{}),"Home: start",(0,t.jsx)("br",{}),"PageUp: hide txt input",(0,t.jsx)("br",{}),"PageDown: hide all",(0,t.jsx)("br",{}),"ArrowDown: speak last"," "]})]}),(0,t.jsx)("br",{})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:g}}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{type:"text",id:"answer",ref:f,onKeyDown:e=>(e=>{if(console.log(e.nativeEvent.code),"Enter"===e.key&&B(),"ShiftLeft"===e.nativeEvent.code){let e=(0,a.genHintStrAns)("answer",u);y((0,a.arrStrCheckToStr)(e))}if("ControlLeft"===e.nativeEvent.code){let e=document.getElementById("answer")?.value||"";(0,a.autoCorrectLetter)("answer",u);let t=document.getElementById("answer")?.value||"";if(i.default.isEqual(e,t)&&e.length<u.length){let t=e.length;e+=u.substring(t,t+1);let n=document.getElementById("answer");n&&(n.value=e)}}"Insert"===e.nativeEvent.code&&N(),"End"===e.nativeEvent.code&&k(),"Home"===e.nativeEvent.code&&S(),"PageUp"===e.nativeEvent.code&&b("inputTxt"),"PageDown"===e.nativeEvent.code&&b("control"),"ArrowDown"===e.nativeEvent.code&&R(x),"ShiftRight"===e.nativeEvent.code&&R(A()),"ControlRight"===e.nativeEvent.code&&T()})(e)}),(0,t.jsx)("br",{})]})]})}],17953)}]);