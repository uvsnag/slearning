(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14709,e=>{e.v("/slearning/_next/static/media/loading.b3211be2.webp")},72066,e=>{"use strict";var t=e.i(80744);function a(e,t,a){return Math.min(a,Math.max(t,e))}function n(){return"speechSynthesis"in window?window.speechSynthesis.getVoices():[]}function s(e){if(e&&"undefined"!=typeof navigator)try{let e=navigator;e.audioSession&&"playback"!==e.audioSession.type&&(e.audioSession.type="playback")}catch{}}function i(e){let[i,l]=(0,t.useState)(n),[r,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),u="speechSynthesis"in window,h=(0,t.useRef)(!1),g=(0,t.useMemo)(()=>"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),[]);(0,t.useEffect)(()=>{if(!u)return;let e=window.speechSynthesis,t=()=>{l(e.getVoices())};return t(),e.addEventListener("voiceschanged",t),()=>{e.removeEventListener("voiceschanged",t)}},[u]),(0,t.useEffect)(()=>{if(!u||!g)return;let e=()=>s(g);return e(),document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[u,g]),(0,t.useEffect)(()=>{if(!u||!g)return;let e=()=>{if(h.current)return;h.current=!0,s(g);let e=window.speechSynthesis,t=new window.SpeechSynthesisUtterance(" ");t.volume=0,t.rate=1,t.lang="en-US",e.speak(t)};return window.addEventListener("touchstart",e,{once:!0,passive:!0}),window.addEventListener("click",e,{once:!0,passive:!0}),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("click",e)}},[u,g]);let m=(0,t.useCallback)(t=>{if(!u)return;let a=window.speechSynthesis;t.onstart=()=>{o(!0),d(!1)},t.onend=()=>{o(!1),d(!1),e?.onEnd?.()},t.onerror=()=>{o(!1),d(!1)};let n=()=>{s(g),a.speak(t)};(a.speaking||a.pending)&&a.cancel(),g?window.setTimeout(n,140):n()},[u,e,g]),p=(0,t.useCallback)(()=>{u&&(window.speechSynthesis.cancel(),o(!1),d(!1))},[u]),f=(0,t.useCallback)(()=>{u&&r&&(window.speechSynthesis.pause(),d(!0))},[u,r]),v=(0,t.useCallback)(()=>{u&&c&&(s(g),window.speechSynthesis.resume(),d(!1))},[u,c,g]),y=(0,t.useCallback)((e,t,n)=>{if(!u)return;let s=(e||"").trim();if(!s)return;let l=Number(n?.voice??0),r=Number.isFinite(l)?i[l]:void 0,o=t?"en":"vi",c=i.find(e=>e.lang?.toLowerCase().startsWith(o)),d=new window.SpeechSynthesisUtterance(s);d.voice=r??c??null,d.lang=d.voice?.lang||(t?"en-US":"vi-VN"),d.rate=a(Number(n?.rate??.6),.1,10),d.volume=a(Number(n?.volume??1),0,1),m(d)},[u,i,m]);return{speak:m,speakText:y,cancel:p,pause:f,resume:v,speaking:r,paused:c,supported:u,voices:i}}e.s(["useSpeechSynthesis",()=>i])},2579,12233,e=>{"use strict";let t={notify:{sheetDefault:"Notify!A2:C500"},listen:{sheetDefault:"Notify!Y2:AA500"},clientId:"897570143608-dvfjhqfsi125cne619dvu3qqfdep6ui6.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],spreadsheetId:"1w_LXJm2Vsw11IlhyuwaMJEWQLT36kgrJ3fJUQwA37fg"};e.s(["default",0,t],12233);var a=e.i(28337),n=e.i(80642);let s="STORE_E",i=[{range:"Notify!A2:C500",name:"Board1"},{range:"Notify!E2:G500",name:"Board2"},{range:"Notify!I2:K500",name:"Board3"},{range:"Notify!M2:O500",name:"Board4"},{range:"Notify!Q2:S500",name:"Board5"},{range:"Notify!U2:W500",name:"Board6"},{range:"Notify!Y2:AA500",name:"Board7"},{range:"Batch1!A2:B500",name:"B1Board1"},{range:"Batch1!D2:E500",name:"B1Board2"},{range:"Batch1!G2:H500",name:"B1Board3"},{range:"Batch1!J2:K500",name:"B1Board4"},{range:"Batch1!M2:N500",name:"B1Board5"},{range:"Batch1!P2:Q500",name:"B1Board6"},{range:"Batch1!S2:T500",name:"B1Board7"},{range:"Batch1!V2:W500",name:"B1Board8"},{range:"Batch1!Y2:Z500",name:"B1Board9"},{range:"Batch1!AB2:AC500",name:"B1Board10"},{range:"Batch2!A2:B500",name:"B2Board1"},{range:"Batch2!G2:H500",name:"B2Board3"},{range:"Batch2!J2:K500",name:"B2Board4"},{range:"Batch2!M2:N500",name:"B2Board5"},{range:`${s}1`,name:"Store1"},{range:`${s}2`,name:"Store2"},{range:`${s}3`,name:"Store3"}],l=async(e,s)=>e.client.sheets.spreadsheets.values.get({spreadsheetId:localStorage.getItem(n.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(n.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,range:a.default.isEmpty(s)?t.notify.sheetDefault:s}),r=async(e,t,n)=>{e.client.load("sheets","v4",async()=>{let s=await l(e,n);console.log("Response",s);let i=s.result?.values;t(i?.filter(e=>!a.default.isEmpty(e)).filter(e=>!a.default.isEmpty(e[0])).map(e=>({eng:e[0],vi:e[1],customDefine:e[2]}))||[])})},o=async(e,a,s,i,l)=>{let r=await e.auth2.getAuthInstance();r.isSignedIn.get()||await r.signIn(),e.client.load("sheets","v4",()=>{let r=localStorage.getItem(n.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(n.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,o=`${s}!${i}`;e.client.sheets.spreadsheets.values.update({spreadsheetId:r,range:o,valueInputOption:"USER_ENTERED",resource:{values:[[l]]}}).then(e=>{a&&a({success:!0,updates:e.result.updates})})})},c=async(a,s,i,l,c)=>new Promise(async(d,u)=>{try{let{gapi:h}=await e.A(6857);h.load("client:auth2",async()=>{try{let e=localStorage.getItem(n.KEY_API_SHEET);if(await h.client.init({apiKey:e,clientId:t.clientId,discoveryDocs:t.discoveryDocs,scope:t.scope}),"get"===i)return void await h.client.load("sheets","v4",async()=>{r(h,e=>{try{a(e),d()}catch(e){u(e)}},s)});if("update"===i)return void o(h,e=>{try{a(e),d()}catch(e){u(e)}},s,l||"A1",c||"");d()}catch(e){u(e)}})}catch(e){u(e)}}),d=0,u="sheet-data-loading-overlay",h="sheet-data-loading-style",g=async(e,t)=>{(()=>{if("undefined"==typeof document)return;(()=>{if("undefined"==typeof document||document.getElementById(u))return;if(!document.getElementById(h)){let e=document.createElement("style");e.id=h,e.textContent=`
      #${u} { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.35); z-index:9999; pointer-events:none; }
      #${u} .sloader { width:56px; height:56px; border:6px solid rgba(255,255,255,0.6); border-top-color:#2b8cf6; border-radius:50%; animation:__sheet_spin 1s linear infinite; }
      @keyframes __sheet_spin { to { transform: rotate(360deg); } }
    `,document.head.appendChild(e)}let e=document.createElement("div");e.id=u,e.setAttribute("aria-hidden","true"),e.innerHTML='<div class="sloader"></div>',document.body.appendChild(e)})(),d+=1;let e=document.getElementById(u);e&&1===d&&(e.style.display="flex")})();try{if(e?.startsWith(s)){let a=localStorage.getItem(e),n=a?JSON.parse(a):[];t(n)}else await c(t,e,"get")}finally{(()=>{if("undefined"==typeof document)return;d=Math.max(0,d-1);let e=document.getElementById(u);e&&0===d&&(e.style.display="none")})()}};async function m(e,t,a){if(a?.startsWith(s)){let t=localStorage.getItem(a),n=t?JSON.parse(t):[];n=n.filter(t=>t.eng!=e),localStorage.setItem(a,JSON.stringify([...n]))}else await p({callback:e=>{e?.success?console.log("Data saved successfully!"):console.log("Failed to save data")},range:a,value1:"",value2:"",updateWhenEquals:e});t()}let p=async({callback:s,range:i,value1:l,value2:r,updateWhenEquals:o=null})=>{console.log("Update GG Sheet:",{range:i,value1:l,value2:r,updateWhenEquals:o}),i.startsWith("AUTO")||(o=null);let{gapi:c}=await e.A(6857);c.load("client:auth2",async()=>{let e=localStorage.getItem(n.KEY_API_SHEET);await c.client.init({apiKey:e,clientId:t.clientId,discoveryDocs:t.discoveryDocs,scope:t.scope});let d=await c.auth2.getAuthInstance();d.isSignedIn.get()||await d.signIn(),c.client.load("sheets","v4",async()=>{let e=localStorage.getItem(n.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(n.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,d=i.split("!"),u=d[0],h=(d[1]?.split(":")[0]||"A2").match(/([A-Z]+)(\d+)/);if(!h){s&&s({success:!1,error:"Invalid cell format"});return}let g=h[1],m=parseInt(h[2],10),p=(e=>{let t="",a=1;for(let n=e.length-1;n>=0;n--){let s=e.charCodeAt(n)+a;s>90?(s=65,a=1):a=0,t=String.fromCharCode(s)+t}return a&&(t="A"+t),t})(g);try{let t=await c.client.sheets.spreadsheets.values.get({spreadsheetId:e,range:i}),n=t.result?.values||[],d=m;for(let e=0;e<n.length;e++){let t=n[e];if(o){if(t&&t.length>0&&t[0]===o){d=m+e;break}}else if(!t||0===t.length||a.default.isEmpty(t[0])){d=m+e;break}e===n.length-1&&(d=m+n.length)}0===n.length&&(d=m);let h=`${u}!${g}${d}:${p}${d}`;c.client.sheets.spreadsheets.values.update({spreadsheetId:e,range:h,valueInputOption:"USER_ENTERED",resource:{values:[[l,r]]}}).then(e=>{s&&s({success:!0,updates:e.result.updates})}).catch(e=>{s&&s({success:!1,error:e.message})})}catch(e){s&&s({success:!1,error:e.message||"Failed to read sheet data"})}})})};e.s(["SHEET_LIST",0,i,"STORE_ALIAS",0,s,"getDataFromExcel",0,g,"ggSheetUpdateTwoValues",0,p,"onRemoveStoreItem",()=>m],2579)},46086,e=>{"use strict";var t=e.i(71866),a=e.i(80744),n=e.i(2579);let s=()=>{let a=async()=>{let{gapi:t}=await e.A(6857),a=await t.auth2.getAuthInstance();await a.signOut(),await a.signIn()};return(0,t.jsx)("button",{type:"button",className:"common-input",onClick:a,children:"log in"})},i=[{range:"AUTO!A2:C500",name:"ABoard1"},{range:"AUTO!E2:G500",name:"ABoard2"},{range:"AUTO!I2:K500",name:"ABoard3"},{range:"AUTO!M2:O500",name:"ABoard4"},{range:"AUTO!Q2:S500",name:"ABoard5"},{range:"AUTO!U2:W500",name:"ABoard6"},{range:"AUTO!Y2:AA500",name:"ABoard7"}];e.s(["SHEET_AUTO",0,i,"default",0,e=>{let[l,r]=(0,a.useState)(e.propSheet||i[0]?.range||""),[o,c]=(0,a.useState)(e.value1||""),[d,u]=(0,a.useState)(e.value2||""),[h,g]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),[f,v]=(0,a.useState)(e.isUse||!1);(0,a.useEffect)(()=>{f?(c(e.value1||""),u(e.value2||"")):(c(""),u(""))},[e.value1,e.value2,f]);let y=async()=>{if(!l.trim())return void g(" Please select a sheet range");p(!0),g("Saving...");try{await (0,n.ggSheetUpdateTwoValues)({callback:e=>{e?.success?(g("Data saved successfully!"),c(""),u("")):g(` Error: ${e?.error||"Failed to save data"}`),p(!1)},range:l,value1:o,value2:d})}catch(e){g(` Error: ${e?.message||"Failed to save data"}`),p(!1)}setTimeout(()=>{g("")},5e3)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[(0,t.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Value 1",className:"common-input",style:{width:"140px"}}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Value 2",className:"common-input",style:{width:"230px"}}),(0,t.jsx)("button",{onClick:y,disabled:m,className:"common-btn",children:m?"Saving...":" Save"}),(0,t.jsx)("br",{}),(0,t.jsx)("select",{value:l,onChange:e=>r(e.target.value),className:"common-input",children:i.map(e=>(0,t.jsx)("option",{value:e.range,children:e.name},e.range))}),(0,t.jsx)("input",{type:"checkbox",checked:f,onChange:e=>{v(e.target.checked)}}),(0,t.jsx)(s,{})]}),h&&(0,t.jsx)("div",{children:h})]})}],46086)},55799,e=>{"use strict";var t=e.i(71866),a=e.i(97968);e.s(["default",0,({voices:e,voiceIndex:n,rate:s,volumn:i,onVoiceChange:l,onRateChange:r,onVolumnChange:o})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("select",{className:"button-33 inline",id:"voice",name:"voice",value:n||"",onChange:e=>{l(Number(e.target.value))},children:[(0,t.jsx)("option",{value:"",children:"Default"}),e.map((e,a)=>(0,t.jsx)("option",{value:a,children:`${e.lang} - ${e.name}`},e.voiceURI))]}),(0,t.jsx)("label",{htmlFor:"rate",children:"Speed: "}),(0,t.jsx)("div",{className:"rate-value inline",children:s}),(0,t.jsx)("input",{type:"range",className:"width-220 range-color inline",min:"0.2",max:"2",defaultValue:"0.6",step:"0.1",id:"rate",onChange:e=>{r(Number(e.target.value))}}),(0,t.jsx)("br",{}),(0,t.jsxs)("label",{htmlFor:"volumn",children:[(0,t.jsx)(a.FaVolumeUp,{className:"iconSound"})," "]}),(0,t.jsx)("span",{className:"rate-value",children:i}),(0,t.jsx)("input",{type:"range",className:"width-220 range-color inline",min:"0.1",max:"1",defaultValue:"0.6",step:"0.1",id:"volumn",onChange:e=>{o(Number(e.target.value))}})]})])},28297,e=>{"use strict";let t=(0,e.i(65902).default)(()=>e.A(6766),{loadableGenerated:{modules:[35916]},ssr:!1});e.s(["default",0,t])},77758,e=>{"use strict";var t=e.i(71866),a=e.i(80744),n=e.i(58078),s=e.i(2579),i=e.i(46086),l=e.i(80642),r=e.i(28297);let o="Talking to a foreign colleague during lunch",c=i.SHEET_AUTO.find(e=>"ABoard7"===e.name)?.range||"AUTO!Y2:AA500";e.s(["default",0,()=>{let[e,i]=(0,a.useState)([]),[d,u]=(0,a.useState)(o);(0,a.useEffect)(()=>{(0,s.getDataFromExcel)(c,e=>{let t=e.map(e=>e.eng?.trim()).filter(e=>!!e);if(i(t),t.length>0){let e=Math.floor(Math.random()*t.length);u(t[e])}})},[]);let h=(0,a.useMemo)(()=>`
SCENARIO: ${d}


You are my professional English speaking coach.

My goal is to improve my spoken English for real-life situations, especially for work and daily communication.

Rules:

I will speak first (my English may be broken or unnatural).

After I finish speaking, you must:

Correct my grammar clearly.

Rewrite my sentence in natural, confident spoken English.

Briefly explain my main mistakes.

Then continue the conversation naturally based on the scenario.

Keep the conversation realistic and practical.

Focus on spoken English (not academic writing).

Ask follow-up questions to make the conversation deeper.

Keep explanations short and clear.

Format your response like this:

Correction:
(Natural version)

Explanation:
(Short explanation of mistakes)

Continue conversation:
(Continue naturally and ask me something)

You talk first. Let's start the conversation now!
  `,[d]);return(0,t.jsxs)("div",{className:"mobile",children:[(0,t.jsxs)("select",{className:"button-33 inline",value:d,onChange:e=>u(e.target.value),children:[0===e.length&&(0,t.jsx)("option",{value:o,children:o}),e.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)(n.default,{index:0,prefix:"speak-ai",enableHis:"Y",heightRes:280,isSpeak:"Y",isMini:null,firstAsk:h,collapse:"N"},d),(0,t.jsx)("div",{className:"width-100",onClick:()=>(0,l.toggleCollapse)("mul-ai"),children:"Mul-AI"}),(0,t.jsx)("div",{id:"mul-ai",className:"collapse-content bolder",children:(0,t.jsx)(r.default,{heightRes:180,cols:1,configs:[{instanceNo:0,prefix:"yts",enableHis:"N",collapse:"N"},{instanceNo:1,prefix:"yts",enableHis:"N",collapse:"N"},{instanceNo:2,prefix:"yts",enableHis:"Y",collapse:"Y"}]})})]})}])},49829,e=>{e.n(e.i(77758))},6857,e=>{e.v(t=>Promise.all(["static/chunks/26dcfe4c23645568.js"].map(t=>e.l(t))).then(()=>t(17833)))},6766,e=>{e.v(t=>Promise.all(["static/chunks/cb8203f5bdeb9117.js"].map(t=>e.l(t))).then(()=>t(35916)))}]);