(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72066,e=>{"use strict";var t=e.i(80744);function a(e){let[a,s]=(0,t.useState)([]),[n,l]=(0,t.useState)(!1),[i,r]=(0,t.useState)(!1),o="speechSynthesis"in window;(0,t.useEffect)(()=>{if(!o)return;let e=window.speechSynthesis,t=()=>{s(e.getVoices())};return s(e.getVoices()),e.addEventListener("voiceschanged",t),()=>{e.removeEventListener("voiceschanged",t)}},[o]);let c=(0,t.useCallback)(t=>{if(!o)return;let a=window.speechSynthesis;t.onstart=()=>l(!0),t.onend=()=>{l(!1),r(!1),e?.onEnd?.()},t.onerror=()=>l(!1),a.cancel(),a.speak(t)},[o,e]),u=(0,t.useCallback)(()=>{o&&(window.speechSynthesis.cancel(),l(!1),r(!1))},[o]),d=(0,t.useCallback)(()=>{o&&n&&(window.speechSynthesis.pause(),r(!0))},[o,n]);return{speak:c,speakText:(e,t,s)=>{let n=s.voice||"0",l=s.voice||"0",i=s.rate||"0.6",r=new window.SpeechSynthesisUtterance;r.text=e,r.rate=Number(i),t?r.voice=a[Number(n)]:r.voice=a[Number(l)],r.volume=s.volume,c(r)},cancel:u,pause:d,resume:(0,t.useCallback)(()=>{o&&i&&(window.speechSynthesis.resume(),r(!1))},[o,i]),speaking:n,paused:i,supported:o,voices:a}}e.s(["useSpeechSynthesis",()=>a])},97013,e=>{"use strict";var t=e.i(80642),a=e.i(28337);let s=(e,a,s)=>{let n=!1,l=[],i=a.split(""),r=e.split(""),o=0,c=0;for(;o<r.length+s;){let e={index:o,char:r[c],type:""};if((0,t.isEqualStr)(i[o],r[c],!0))e.type=0;else if(!1===n&&s>0){for(let t=0;t<s;t++)e.type=1,e.char="_",l.push(e),o+=1;n=!0;continue}else e.type=1;r[c]&&l.push(e),o++,c++}return i.length>r.length&&l.push({index:l.length,char:"_",type:1}),l};e.s(["TYPE_CORRECT",0,0,"TYPE_WRONG",0,1,"arrStrCheckToStr",0,e=>{let t="";for(let s=0;s<e.length;s++){let n=e[s];a.default.isEqual(null,n.type)||(a.default.isEqual(n.type,0)?t+="<span class ='ans-check-right'>":a.default.isEqual(n.type,1)?t+="<span class ='ans-check-wrong'>":a.default.isEqual(n.type,2)&&(t+="<span class ='ans-check-hint'>")),t+=n.char}return t+"</span>"},"autoCorrectLetter",0,(e,n)=>{let l=document.getElementById(e).value,i=s(l,n,0);for(let s=0;s<i.length;s++)if(a.default.isEqual(i[s].type,1)){l=(0,t.setCharAt)(l,s,n.substring(s,s+1)),document.getElementById(e).value=l;break}return i},"genHintStrAns",0,(e,t)=>{let n=s(document.getElementById(e).value,t,0);for(let e=0;e<n.length;e++)if(a.default.isEqual(n[e].type,1)){let a=t.substring(e,e+1);n[e].type=2,n[e].char=a;break}return n},"validateArrStrCheck",0,s])},45033,e=>{"use strict";var t=e.i(71866),a=e.i(80744),s=e.i(28337),n=e.i(2579),l=e.i(72066),i=e.i(97968),r=e.i(80642),o=e.i(46086);e.s(["default",0,e=>{let{speak:c,voices:u}=(0,l.useSpeechSynthesis)(),[d,m]=(0,a.useState)([]),[h,g]=(0,a.useState)(e.config.oderRandomS),[p,f]=(0,a.useState)(0),[v,S]=(0,a.useState)(0),[x,E]=(0,a.useState)(e.config.rate),[y,j]=(0,a.useState)(e.config.volume),[N,b]=(0,a.useState)(e.config.defaultSheet),[C,I]=(0,a.useState)(!0),[A,w]=(0,a.useState)(-1),[T,O]=(0,a.useState)(0);return(0,a.useEffect)(()=>{s.default.isEmpty(N)||(0,n.getDataFromExcel)(N,m)},[N]),(0,a.useEffect)(()=>{u.forEach((e,t)=>{e.lang.includes("vi-VN")&&S(t),e.lang.includes("en-US")&&f(t)})},[u]),(0,a.useEffect)(()=>{let e=document.getElementById("timeValue"),t=e?.value||"50";if(!C){let e=setTimeout(()=>{O(T+1)},1e3*Number(t));return w(e),()=>{clearTimeout(e)}}},[T]),(0,a.useEffect)(()=>{e.onChange({...e.config,items:d})},[d]),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{onClick:()=>(0,r.toggleCollapse)(`config-pract-${e.config.index}`),children:(0,t.jsx)(i.FaCog,{})}),(0,t.jsxs)("div",{className:"collapse-content bolder",id:`config-pract-${e.config.index}`,children:[(0,t.jsx)("select",{className:"button-33 inline",value:N,name:"sheet",id:"slsheet",onChange:e=>{e.target.value&&e.target.value!=N&&b(e.target.value)},children:[...n.SHEET_LIST,...o.SHEET_AUTO].map((e,a)=>(0,t.jsx)("option",{value:e.range,children:`${e.name}`},e.range))}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>(0,n.getDataFromExcel)(N,m),children:(0,t.jsx)(i.FaRedo,{})}),(0,t.jsxs)("select",{id:"store-index",name:"store-index",className:"common-btn inline",children:[(0,t.jsx)("option",{value:`${n.STORE_ALIAS}1`,children:"Store1"}),(0,t.jsx)("option",{value:`${n.STORE_ALIAS}2`,children:"Store2"}),(0,t.jsx)("option",{value:`${n.STORE_ALIAS}3`,children:"Store3"})]}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>(function(){let e=document.getElementById("store-index"),t=e?.value;if(t){let e=localStorage.getItem(t),a=e?JSON.parse(e):[];localStorage.setItem(t,JSON.stringify([...a,...d]))}})(),children:"Add"}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>{let e,t;return e=document.getElementById("store-index"),void((t=e?.value)&&localStorage.setItem(t,JSON.stringify([])))},children:"Clear"}),(0,t.jsxs)("select",{className:"button-33 inline",name:"genData",id:"slGenData",onChange:t=>{var a;g(a=t.target.value),e.onChange({...e.config,oderRandomS:a})},children:[(0,t.jsx)("option",{value:"random",children:"random"}),(0,t.jsx)("option",{value:"order",children:"order"})]}),(0,t.jsxs)("select",{className:"button-33 inline",id:"voice",name:"voice",value:p||"",onChange:t=>{f(Number(t.target.value)),e.onChange({...e.config,voice:Number(t.target.value)})},children:[(0,t.jsx)("option",{value:"",children:"Default"}),u.map((e,a)=>(0,t.jsx)("option",{value:a,children:`${e.lang} - ${e.name}`},e.voiceURI))]}),(0,t.jsx)("label",{htmlFor:"rate",children:"Speed: "}),(0,t.jsx)("div",{className:"rate-value inline",children:x}),(0,t.jsx)("input",{type:"range",className:"width-220 range-color inline",min:"0.2",max:"2",defaultValue:"0.6",step:"0.1",id:"rate",onChange:t=>{E(Number(t.target.value)),e.onChange({...e.config,rate:Number(t.target.value)})}}),(0,t.jsx)("br",{}),(0,t.jsxs)("label",{htmlFor:"volumn",children:[(0,t.jsx)(i.FaVolumeUp,{className:"iconSound"})," "]}),(0,t.jsx)("span",{className:"rate-value",children:y}),(0,t.jsx)("input",{type:"range",className:"width-220 range-color inline",min:"0.1",max:"1",defaultValue:"0.6",step:"0.1",id:"volumn",onChange:t=>{j(Number(t.target.value)),e.onChange({...e.config,volume:Number(t.target.value)})}})]})]})}])},14709,e=>{e.v("/slearning/_next/static/media/loading.b3211be2.webp")},2579,12233,e=>{"use strict";let t={notify:{sheetDefault:"Notify!A2:C500"},listen:{sheetDefault:"Notify!Y2:AA500"},apiKey:"AIzaSyBXTCDVZLRPsWanb_ab5Lp9GJa1upX8bf8",clientId:"897570143608-dvfjhqfsi125cne619dvu3qqfdep6ui6.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],spreadsheetId:"1w_LXJm2Vsw11IlhyuwaMJEWQLT36kgrJ3fJUQwA37fg"};e.s(["default",0,t],12233);var a=e.i(28337),s=e.i(80642);let n="STORE_E",l=[{range:"Notify!A2:C500",name:"Board1"},{range:"Notify!E2:G500",name:"Board2"},{range:"Notify!I2:K500",name:"Board3"},{range:"Notify!M2:O500",name:"Board4"},{range:"Notify!Q2:S500",name:"Board5"},{range:"Notify!U2:W500",name:"Board6"},{range:"Notify!Y2:AA500",name:"Board7"},{range:`${n}1`,name:"Store1"},{range:`${n}2`,name:"Store2"},{range:`${n}3`,name:"Store3"}],i=async(e,n)=>e.client.sheets.spreadsheets.values.get({spreadsheetId:localStorage.getItem(s.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(s.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,range:a.default.isEmpty(n)?t.notify.sheetDefault:n}),r=async(e,t,s)=>{e.client.load("sheets","v4",async()=>{let n=await i(e,s);console.log("Response",n);let l=n.result?.values;t(l?.filter(e=>!a.default.isEmpty(e)).filter(e=>!a.default.isEmpty(e[0])).map(e=>({eng:e[0],vi:e[1],customDefine:e[2]}))||[])})},o=async(e,a,n,l,i)=>{let r=await e.auth2.getAuthInstance();r.isSignedIn.get()||await r.signIn(),e.client.load("sheets","v4",()=>{let r=localStorage.getItem(s.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(s.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,o=`${n}!${l}`;e.client.sheets.spreadsheets.values.update({spreadsheetId:r,range:o,valueInputOption:"USER_ENTERED",resource:{values:[[i]]}}).then(e=>{a&&a({success:!0,updates:e.result.updates})})})},c=async(e,n,l,i,r)=>{let o=await e.auth2.getAuthInstance();o.isSignedIn.get()||await o.signIn(),e.client.load("sheets","v4",async()=>{let o=localStorage.getItem(s.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(s.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,c=l.split("!"),u=c[0],d=(c[1]?.split(":")[0]||"A2").match(/([A-Z]+)(\d+)/);if(!d){n&&n({success:!1,error:"Invalid cell format"});return}let m=d[1],h=parseInt(d[2],10),g=(e=>{let t="",a=1;for(let s=e.length-1;s>=0;s--){let n=e.charCodeAt(s)+a;n>90?(n=65,a=1):a=0,t=String.fromCharCode(n)+t}return a&&(t="A"+t),t})(m);try{let t=await e.client.sheets.spreadsheets.values.get({spreadsheetId:o,range:l}),s=t.result?.values||[],c=h;for(let e=0;e<s.length;e++){let t=s[e];if(!t||0===t.length||a.default.isEmpty(t[0])){c=h+e;break}e===s.length-1&&(c=h+s.length)}0===s.length&&(c=h);let d=`${u}!${m}${c}:${g}${c}`;e.client.sheets.spreadsheets.values.update({spreadsheetId:o,range:d,valueInputOption:"USER_ENTERED",resource:{values:[[i,r]]}}).then(e=>{n&&n({success:!0,updates:e.result.updates})}).catch(e=>{n&&n({success:!1,error:e.message})})}catch(e){n&&n({success:!1,error:e.message||"Failed to read sheet data"})}})},u=async(a,s,n,l,i)=>{let{gapi:c}=await e.A(6857);c.load("client:auth2",async()=>{await c.client.init({apiKey:t.apiKey,clientId:t.clientId,discoveryDocs:t.discoveryDocs,scope:t.scope}),"get"===n&&await c.client.load("sheets","v4",async()=>{r(c,a,s)}),"update"===n&&o(c,a,s,l||"A1",i||"")})},d=async(e,t)=>{if(e?.startsWith(n)){let s=localStorage.getItem(e),n=s?JSON.parse(s):[];a.default.isEmpty(n)||t(n)}else u(t,e,"get")};function m(e,t,a){if(a?.startsWith(n)){let s=localStorage.getItem(a),n=s?JSON.parse(s):[];n=n.filter(t=>t.eng!=e),localStorage.setItem(a,JSON.stringify([...n])),t()}}let h=async(a,s,n,l)=>{let{gapi:i}=await e.A(6857);i.load("client:auth2",async()=>{await i.client.init({apiKey:t.apiKey,clientId:t.clientId,discoveryDocs:t.discoveryDocs,scope:t.scope}),c(i,a,s,n,l)})};e.s(["SHEET_LIST",0,l,"STORE_ALIAS",0,n,"getDataFromExcel",0,d,"ggSheetProcess",0,u,"ggSheetProcessTwoValues",0,h,"onRemoveStoreItem",()=>m],2579)},46086,e=>{"use strict";var t=e.i(71866),a=e.i(80744),s=e.i(2579);let n=[{range:"AUTO!A2:C500",name:"ABoard1"},{range:"AUTO!E2:G500",name:"ABoard2"},{range:"AUTO!I2:K500",name:"ABoard3"},{range:"AUTO!M2:O500",name:"ABoard4"},{range:"AUTO!Q2:S500",name:"ABoard5"},{range:"AUTO!U2:W500",name:"ABoard6"},{range:"AUTO!Y2:AA500",name:"ABoard7"}];e.s(["SHEET_AUTO",0,n,"default",0,e=>{let[l,i]=(0,a.useState)(e.defaultSheet||n[0]?.range||""),[r,o]=(0,a.useState)(e.value1||""),[c,u]=(0,a.useState)(e.value2||""),[d,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{p?(o(e.value1||""),u(e.value2||"")):(o(""),u(""))},[e.value1,e.value2,p]);let v=async()=>{if(!l.trim())return void m(" Please select a sheet range");g(!0),m("Saving...");try{await (0,s.ggSheetProcessTwoValues)(e=>{e?.success?(m(" Data saved successfully!"),o(""),u("")):m(` Error: ${e?.error||"Failed to save data"}`),g(!1)},l,r,c)}catch(e){m(` Error: ${e?.message||"Failed to save data"}`),g(!1)}};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[(0,t.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"Value 1",className:"common-input",style:{width:"100px"}}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Value 2",className:"common-input",style:{width:"100px"}}),(0,t.jsx)("select",{value:l,onChange:e=>i(e.target.value),className:"common-input",children:n.map(e=>(0,t.jsx)("option",{value:e.range,children:e.name},e.range))}),(0,t.jsx)("button",{onClick:v,disabled:h,className:"common-btn",children:h?"Saving...":" Save"}),(0,t.jsx)("input",{type:"checkbox",checked:p,onChange:e=>{f(e.target.checked)}})]}),d&&(0,t.jsx)("div",{children:d})]})}])},45605,e=>{"use strict";var t=e.i(71866),a=e.i(80744),s=e.i(28337),n=e.i(97968),l=e.i(15707),i=e.i(58078),r=e.i(2579),o=e.i(97013),c=e.i(45033),u=e.i(72066);let d="",m=[],h=!1;e.s(["default",0,e=>{let[g,p]=(0,a.useState)({defaultSheet:"Notify!A2:C500",oderRandomS:"random",voice:0,rate:1,volume:1,index:"pract_words",items:[]}),f="None",v="Speak",[S,x]=(0,a.useState)(""),[E,y]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[b,C]=(0,a.useState)(""),[I,A]=(0,a.useState)(""),[w,T]=(0,a.useState)("container-55"),[O,k]=(0,a.useState)(f),[_,R]=(0,a.useState)(!1),[B,D]=(0,a.useState)([]),[L,U]=(0,a.useState)(0),[$,G]=(0,a.useState)(null),M=(0,a.useRef)(null),{speakText:V}=(0,u.useSpeechSynthesis)();(0,a.useEffect)(()=>{m=[],H(!0)},[g.items]);let H=(e=!1)=>{let t=new Set,a=document.getElementById("revertAsw");if(h=a?.checked??!1,!s.default.isEmpty(g.items)){let a=g.defaultSheet?.startsWith(r.STORE_ALIAS)?localStorage.getItem(g.defaultSheet)?JSON.parse(localStorage.getItem(g.defaultSheet)):[]:g.items,n=null,l=s.default.isEmpty(m)||e?s.default.cloneDeep(a):s.default.cloneDeep(m);if(s.default.isEmpty(l))return;if("random"===g.oderRandomS){let e=l.filter(e=>e.eng!==d),t=Math.floor(Math.random()*e.length);(n=e[t])&&(l=l.filter(e=>e.eng!=n.eng))}else n=l[0],l.shift();m=l,console.log("arrTemp:",l),U(l.length),n&&G(n.eng);let i="";n&&(i=s.default.isEmpty(n.customDefine)?n.vi:n.customDefine||"",h?(y(i),x(n.eng),t.add(i)):(y(n.eng),x(i),t.add(n.eng))),N("");let o=document.getElementById("num-of-ans"),c=Number(o?.value??3);for(c=c>g.items.length?g.items.length:c;t.size<c;){let e=Math.floor(Math.random()*g.items.length);h?(i="",i=s.default.isEmpty(g.items[e].customDefine)?g.items[e].vi:g.items[e].customDefine||"",t.add(i)):t.add(g.items[e].eng)}}D([...t].sort())},K=()=>{let e=document.getElementById("answer")?.value;if(s.default.isEmpty(e)&&(e=document.getElementById("combo-answer")?.value),!s.default.isNull(e)&&!s.default.isNull(E))if(e.trim().toUpperCase()===E.toUpperCase().trim())F();else{let t=(0,o.validateArrStrCheck)(e,E,0);N((0,o.arrStrCheckToStr)(t))}};function F(){let e=document.getElementById("answer");e&&(e.value=""),h?(d=S,C(S),A(E)):(d=E,C(E),A(S)),O===v&&(h?V(S,!0,g):V(E,!0,g)),H()}let J=()=>{s.default.isEmpty(j)?N(E):N("")};return(0,t.jsxs)("div",{className:w,children:[(0,t.jsxs)("div",{className:"prac",children:[(0,t.jsx)("div",{children:s.default.isEmpty(b)?(0,t.jsx)("div",{}):(0,t.jsxs)("i",{children:[" ",b," : ",I,(0,t.jsx)(n.FaVolumeUp,{className:"iconSound",onClick:()=>V(b,!0,g)})," "]})}),(0,t.jsx)("input",{type:"number",className:"width-30",id:"num-of-ans",defaultValue:3}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{id:"revertAsw",type:"checkbox",defaultChecked:!1}),"â‡†"]}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>void(s.default.isEmpty(j)?J():F()),children:"Next"}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>{(0,r.onRemoveStoreItem)($||"",F,g.defaultSheet)},children:"X"}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{children:S}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{className:"",dangerouslySetInnerHTML:{__html:j}}),(0,t.jsx)("input",{type:"text",id:"answer",autoComplete:"off",ref:M,onKeyDown:e=>{e.key,"Enter"===e.key&&K(),"ShiftLeft"===e.nativeEvent.code&&J(),"ShiftRight"===e.nativeEvent.code&&V(b,!0,g),"ControlLeft"===e.nativeEvent.code&&V(E,!0,g),"ControlRight"===e.nativeEvent.code&&k(O===f?v:f),"End"===e.nativeEvent.code&&F(),e.nativeEvent.code}}),(0,t.jsx)(l.default,{setText:function(e){M.current&&(M.current.value=e)},index:0}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{className:"common-btn inline",type:"submit",value:"Check",id:"btnSubmit",onClick:()=>K()}),(0,t.jsxs)("select",{className:"button-33",id:"combo-answer",name:"combo-ans",onChange:e=>{K()},children:[(0,t.jsx)("option",{value:""}),B.map((e,a)=>(0,t.jsx)("option",{value:e,children:`${e}`},e))]}),(0,t.jsx)("input",{className:"common-btn inline",type:"submit",value:"Show Ans",id:"btnShowAns",onClick:()=>J()}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>k(O===f?v:f),children:O===f?(0,t.jsx)(n.FaVolumeMute,{}):(0,t.jsx)(n.FaVolumeUp,{})}),(0,t.jsxs)("div",{className:"tooltip",children:["?",(0,t.jsxs)("span",{className:"tooltiptext",children:[(0,t.jsx)("p",{children:"ArrowUp: Record/Stop"}),(0,t.jsx)("p",{children:"ShiftLeft: Show answer"}),(0,t.jsx)("p",{children:"ShiftRight: Speak Last Eng"}),(0,t.jsx)("p",{children:"ControlLeft: Speak Current"}),(0,t.jsx)("p",{children:"ControlRight: Turn On/Off Speak"}),(0,t.jsx)("p",{children:"Home: Reload data"}),(0,t.jsx)("p",{children:"End: Next Answer"})]})]}),(0,t.jsxs)("span",{children:[" ",L]}),(0,t.jsx)("button",{onClick:()=>void("container-55"!==w?T("container-55"):T("hide-ai")),children:"Hide AI"}),(0,t.jsx)(c.default,{config:g,onChange:p})]}),(0,t.jsx)("div",{className:"ai-pract",children:(0,t.jsx)(i.default,{index:0,prefix:e.prefix??"pract_eng",enableHis:e.enableHis??"N",heightRes:e.heightRes??140,isMini:e.isMini??!0,statement:S,lastSentence:I},0)})]})}])},41458,e=>{"use strict";let t=e.i(45605).default;e.s(["default",0,t])},6857,e=>{e.v(t=>Promise.all(["static/chunks/26dcfe4c23645568.js"].map(t=>e.l(t))).then(()=>t(17833)))}]);