(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14709,e=>{e.v("/slearning/_next/static/media/loading.b3211be2.webp")},2579,12233,e=>{"use strict";let t={notify:{sheetDefault:"Notify!A2:C500"},listen:{sheetDefault:"Notify!Y2:AA500"},apiKey:"AIzaSyBXTCDVZLRPsWanb_ab5Lp9GJa1upX8bf8",clientId:"897570143608-dvfjhqfsi125cne619dvu3qqfdep6ui6.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],spreadsheetId:"1w_LXJm2Vsw11IlhyuwaMJEWQLT36kgrJ3fJUQwA37fg"};e.s(["default",0,t],12233);var n=e.i(28337),l=e.i(80642);let a="STORE_E",s=[{range:"Notify!A2:C500",name:"Board1"},{range:"Notify!E2:G500",name:"Board2"},{range:"Notify!I2:K500",name:"Board3"},{range:"Notify!M2:O500",name:"Board4"},{range:"Notify!Q2:S500",name:"Board5"},{range:"Notify!U2:W500",name:"Board6"},{range:"Notify!Y2:AA500",name:"Board7"},{range:`${a}1`,name:"Store1"},{range:`${a}2`,name:"Store2"},{range:`${a}3`,name:"Store3"}],i=async(e,a)=>e.client.sheets.spreadsheets.values.get({spreadsheetId:localStorage.getItem(l.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(l.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,range:n.default.isEmpty(a)?t.notify.sheetDefault:a}),o=async(e,t,l)=>{e.client.load("sheets","v4",async()=>{let a=await i(e,l);console.log("Response",a);let s=a.result?.values;t(s?.filter(e=>!n.default.isEmpty(e)).filter(e=>!n.default.isEmpty(e[0])).map(e=>({eng:e[0],vi:e[1],customDefine:e[2]}))||[])})},r=async(e,n,a,s,i)=>{let o=await e.auth2.getAuthInstance();o.isSignedIn.get()||await o.signIn(),e.client.load("sheets","v4",()=>{let o=localStorage.getItem(l.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(l.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,r=`${a}!${s}`;e.client.sheets.spreadsheets.values.update({spreadsheetId:o,range:r,valueInputOption:"USER_ENTERED",resource:{values:[[i]]}}).then(e=>{n&&n({success:!0,updates:e.result.updates})})})},c=async(e,a,s,i,o)=>{let r=await e.auth2.getAuthInstance();r.isSignedIn.get()||await r.signIn(),e.client.load("sheets","v4",async()=>{let r=localStorage.getItem(l.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(l.KEY_GOOGLE_SHEET_NM):t.spreadsheetId,c=s.split("!"),u=c[0],d=(c[1]?.split(":")[0]||"A2").match(/([A-Z]+)(\d+)/);if(!d){a&&a({success:!1,error:"Invalid cell format"});return}let m=d[1],p=parseInt(d[2],10),h=(e=>{let t="",n=1;for(let l=e.length-1;l>=0;l--){let a=e.charCodeAt(l)+n;a>90?(a=65,n=1):n=0,t=String.fromCharCode(a)+t}return n&&(t="A"+t),t})(m);try{let t=await e.client.sheets.spreadsheets.values.get({spreadsheetId:r,range:s}),l=t.result?.values||[],c=p;for(let e=0;e<l.length;e++){let t=l[e];if(!t||0===t.length||n.default.isEmpty(t[0])){c=p+e;break}e===l.length-1&&(c=p+l.length)}0===l.length&&(c=p);let d=`${u}!${m}${c}:${h}${c}`;e.client.sheets.spreadsheets.values.update({spreadsheetId:r,range:d,valueInputOption:"USER_ENTERED",resource:{values:[[i,o]]}}).then(e=>{a&&a({success:!0,updates:e.result.updates})}).catch(e=>{a&&a({success:!1,error:e.message})})}catch(e){a&&a({success:!1,error:e.message||"Failed to read sheet data"})}})},u=async(n,l,a,s,i)=>{let{gapi:c}=await e.A(6857);c.load("client:auth2",async()=>{await c.client.init({apiKey:t.apiKey,clientId:t.clientId,discoveryDocs:t.discoveryDocs,scope:t.scope}),"get"===a&&await c.client.load("sheets","v4",async()=>{o(c,n,l)}),"update"===a&&r(c,n,l,s||"A1",i||"")})},d=async(e,t)=>{if(e?.startsWith(a)){let l=localStorage.getItem(e),a=l?JSON.parse(l):[];n.default.isEmpty(a)||t(a)}else u(t,e,"get")};function m(e,t,n){if(n?.startsWith(a)){let l=localStorage.getItem(n),a=l?JSON.parse(l):[];a=a.filter(t=>t.eng!=e),localStorage.setItem(n,JSON.stringify([...a])),t()}}let p=async(n,l,a,s)=>{let{gapi:i}=await e.A(6857);i.load("client:auth2",async()=>{await i.client.init({apiKey:t.apiKey,clientId:t.clientId,discoveryDocs:t.discoveryDocs,scope:t.scope}),c(i,n,l,a,s)})};e.s(["SHEET_LIST",0,s,"STORE_ALIAS",0,a,"getDataFromExcel",0,d,"ggSheetProcess",0,u,"ggSheetProcessTwoValues",0,p,"onRemoveStoreItem",()=>m],2579)},46086,e=>{"use strict";var t=e.i(71866),n=e.i(80744),l=e.i(2579);let a=[{range:"AUTO!A2:C500",name:"ABoard1"},{range:"AUTO!E2:G500",name:"ABoard2"},{range:"AUTO!I2:K500",name:"ABoard3"},{range:"AUTO!M2:O500",name:"ABoard4"},{range:"AUTO!Q2:S500",name:"ABoard5"},{range:"AUTO!U2:W500",name:"ABoard6"},{range:"AUTO!Y2:AA500",name:"ABoard7"}];e.s(["SHEET_AUTO",0,a,"default",0,e=>{let[s,i]=(0,n.useState)(e.defaultSheet||a[0]?.range||""),[o,r]=(0,n.useState)(e.value1||""),[c,u]=(0,n.useState)(e.value2||""),[d,m]=(0,n.useState)(""),[p,h]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g?(r(e.value1||""),u(e.value2||"")):(r(""),u(""))},[e.value1,e.value2,g]);let y=async()=>{if(!s.trim())return void m(" Please select a sheet range");h(!0),m("Saving...");try{await (0,l.ggSheetProcessTwoValues)(e=>{e?.success?(m(" Data saved successfully!"),r(""),u("")):m(` Error: ${e?.error||"Failed to save data"}`),h(!1)},s,o,c)}catch(e){m(` Error: ${e?.message||"Failed to save data"}`),h(!1)}};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[(0,t.jsx)("input",{type:"text",value:o,onChange:e=>r(e.target.value),placeholder:"Value 1",className:"common-input",style:{width:"100px"}}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Value 2",className:"common-input",style:{width:"100px"}}),(0,t.jsx)("select",{value:s,onChange:e=>i(e.target.value),className:"common-input",children:a.map(e=>(0,t.jsx)("option",{value:e.range,children:e.name},e.range))}),(0,t.jsx)("button",{onClick:y,disabled:p,className:"common-btn",children:p?"Saving...":" Save"}),(0,t.jsx)("input",{type:"checkbox",checked:g,onChange:e=>{v(e.target.checked)}})]}),d&&(0,t.jsx)("div",{children:d})]})}])},67410,53855,e=>{"use strict";var t=e.i(71866),n=e.i(80744),l=e.i(58078);let a=({onUp:e,onDown:l})=>((0,n.useEffect)(()=>{},[]),(0,t.jsx)("div",{className:"inline-block offset-top-10",children:(0,t.jsxs)("div",{className:"button-stack",children:[(0,t.jsx)("button",{className:"cmm-btn",onClick:()=>e(),children:"▲"}),(0,t.jsx)("button",{className:"cmm-btn",onClick:()=>l(),children:"▼"})]})}));e.s(["default",0,a],53855);var s=e.i(46086);e.s(["default",0,e=>{let[i,o]=(0,n.useState)(e.configs.length),[r,c]=(0,n.useState)(4),[u,d]=(0,n.useState)(e?.heightRes??400);return(0,n.useEffect)(()=>{},[]),(0,n.useEffect)(()=>{},[r]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Instances:"}),(0,t.jsx)("input",{type:"number",className:"width-30 common-input",value:i,onChange:e=>{o(Number(e.target.value))}}),(0,t.jsx)(a,{onUp:()=>o(i+1),onDown:()=>o(i-1)}),(0,t.jsx)("span",{children:"Cols:"}),(0,t.jsx)("input",{type:"number",className:"width-30 common-input",value:r,onChange:e=>{c(Number(e.target.value))}}),(0,t.jsx)(a,{onUp:()=>c(r+1),onDown:()=>c(r-1)}),(0,t.jsx)("button",{onClick:()=>void document.querySelectorAll("div.response-ai").forEach(e=>{e.innerHTML=""}),className:"common-btn inline",children:"Clear All"}),(0,t.jsx)("i",{children:u}),(0,t.jsx)("input",{className:"width-220 range-color",type:"range",min:"10",max:"800",defaultValue:"400",step:"5",onChange:e=>{d(Number(e.target.value))}}),(0,t.jsx)(s.default,{})]}),(0,t.jsx)("div",{className:"container-block",children:e.configs.slice(0,i).map(e=>(0,t.jsx)("div",{className:`block block-${r}cols`,children:(0,t.jsx)(l.default,{index:e.instanceNo,prefix:e.prefix||"default",enableHis:e.enableHis??"N",heightRes:u,isMini:e.isMini,statement:e.statement,lastSentence:e.lastSentence,collapse:e.collapse})},e.instanceNo))})]})}],67410)},45605,e=>{"use strict";var t=e.i(71866),n=e.i(80744),l=e.i(28337),a=e.i(97968),s=e.i(15707),i=e.i(58078),o=e.i(2579),r=e.i(97013),c=e.i(45033),u=e.i(72066);let d="",m=[],p=!1;e.s(["default",0,e=>{let[h,g]=(0,n.useState)({defaultSheet:"Notify!A2:C500",oderRandomS:"random",voice:0,rate:1,volume:1,index:"pract_words",items:[]}),v="None",y="Speak",[f,x]=(0,n.useState)(""),[b,S]=(0,n.useState)(""),[j,E]=(0,n.useState)(""),[N,C]=(0,n.useState)(""),[I,w]=(0,n.useState)(""),[k,A]=(0,n.useState)("container-55"),[T,B]=(0,n.useState)(v),[O,_]=(0,n.useState)(!1),[R,$]=(0,n.useState)([]),[L,D]=(0,n.useState)(0),[U,M]=(0,n.useState)(null),H=(0,n.useRef)(null),{speakText:V}=(0,u.useSpeechSynthesis)();(0,n.useEffect)(()=>{m=[],Y(!0)},[h.items]);let Y=(e=!1)=>{let t=new Set,n=document.getElementById("revertAsw");if(p=n?.checked??!1,!l.default.isEmpty(h.items)){let n=h.defaultSheet?.startsWith(o.STORE_ALIAS)?localStorage.getItem(h.defaultSheet)?JSON.parse(localStorage.getItem(h.defaultSheet)):[]:h.items,a=null,s=l.default.isEmpty(m)||e?l.default.cloneDeep(n):l.default.cloneDeep(m);if(l.default.isEmpty(s))return;if("random"===h.oderRandomS){let e=s.filter(e=>e.eng!==d),t=Math.floor(Math.random()*e.length);(a=e[t])&&(s=s.filter(e=>e.eng!=a.eng))}else a=s[0],s.shift();m=s,console.log("arrTemp:",s),D(s.length),a&&M(a.eng);let i="";a&&(i=l.default.isEmpty(a.customDefine)?a.vi:a.customDefine||"",p?(S(i),x(a.eng),t.add(i)):(S(a.eng),x(i),t.add(a.eng))),E("");let r=document.getElementById("num-of-ans"),c=Number(r?.value??3);for(c=c>h.items.length?h.items.length:c;t.size<c;){let e=Math.floor(Math.random()*h.items.length);p?(i="",i=l.default.isEmpty(h.items[e].customDefine)?h.items[e].vi:h.items[e].customDefine||"",t.add(i)):t.add(h.items[e].eng)}}$([...t].sort())},F=()=>{let e=document.getElementById("answer")?.value;if(l.default.isEmpty(e)&&(e=document.getElementById("combo-answer")?.value),!l.default.isNull(e)&&!l.default.isNull(b))if(e.trim().toUpperCase()===b.toUpperCase().trim())P();else{let t=(0,r.validateArrStrCheck)(e,b,0);E((0,r.arrStrCheckToStr)(t))}};function P(){let e=document.getElementById("answer");e&&(e.value=""),p?(d=f,C(f),w(b)):(d=b,C(b),w(f)),T===y&&(p?V(f,!0,h):V(b,!0,h)),Y()}let K=()=>{l.default.isEmpty(j)?E(b):E("")};return(0,t.jsxs)("div",{className:k,children:[(0,t.jsxs)("div",{className:"prac",children:[(0,t.jsx)("div",{children:l.default.isEmpty(N)?(0,t.jsx)("div",{}):(0,t.jsxs)("i",{children:[" ",N," : ",I,(0,t.jsx)(a.FaVolumeUp,{className:"iconSound",onClick:()=>V(N,!0,h)})," "]})}),(0,t.jsx)("input",{type:"number",className:"width-30",id:"num-of-ans",defaultValue:3}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{id:"revertAsw",type:"checkbox",defaultChecked:!1}),"⇆"]}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>void(l.default.isEmpty(j)?K():P()),children:"Next"}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>{(0,o.onRemoveStoreItem)(U||"",P,h.defaultSheet)},children:"X"}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{children:f}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{className:"",dangerouslySetInnerHTML:{__html:j}}),(0,t.jsx)("input",{type:"text",id:"answer",autoComplete:"off",ref:H,onKeyDown:e=>{e.key,"Enter"===e.key&&F(),"ShiftLeft"===e.nativeEvent.code&&K(),"ShiftRight"===e.nativeEvent.code&&V(N,!0,h),"ControlLeft"===e.nativeEvent.code&&V(b,!0,h),"ControlRight"===e.nativeEvent.code&&B(T===v?y:v),"End"===e.nativeEvent.code&&P(),e.nativeEvent.code}}),(0,t.jsx)(s.default,{setText:function(e){H.current&&(H.current.value=e)},index:0}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{className:"common-btn inline",type:"submit",value:"Check",id:"btnSubmit",onClick:()=>F()}),(0,t.jsxs)("select",{className:"button-33",id:"combo-answer",name:"combo-ans",onChange:e=>{F()},children:[(0,t.jsx)("option",{value:""}),R.map((e,n)=>(0,t.jsx)("option",{value:e,children:`${e}`},e))]}),(0,t.jsx)("input",{className:"common-btn inline",type:"submit",value:"Show Ans",id:"btnShowAns",onClick:()=>K()}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>B(T===v?y:v),children:T===v?(0,t.jsx)(a.FaVolumeMute,{}):(0,t.jsx)(a.FaVolumeUp,{})}),(0,t.jsxs)("div",{className:"tooltip",children:["?",(0,t.jsxs)("span",{className:"tooltiptext",children:[(0,t.jsx)("p",{children:"ArrowUp: Record/Stop"}),(0,t.jsx)("p",{children:"ShiftLeft: Show answer"}),(0,t.jsx)("p",{children:"ShiftRight: Speak Last Eng"}),(0,t.jsx)("p",{children:"ControlLeft: Speak Current"}),(0,t.jsx)("p",{children:"ControlRight: Turn On/Off Speak"}),(0,t.jsx)("p",{children:"Home: Reload data"}),(0,t.jsx)("p",{children:"End: Next Answer"})]})]}),(0,t.jsxs)("span",{children:[" ",L]}),(0,t.jsx)("button",{onClick:()=>void("container-55"!==k?A("container-55"):A("hide-ai")),children:"Hide AI"}),(0,t.jsx)(c.default,{config:h,onChange:g})]}),(0,t.jsx)("div",{className:"ai-pract",children:(0,t.jsx)(i.default,{index:0,prefix:e.prefix??"pract_eng",enableHis:e.enableHis??"N",heightRes:e.heightRes??140,isMini:e.isMini??!0,statement:f,lastSentence:I},0)})]})}])},72066,e=>{"use strict";var t=e.i(80744);function n(e){let[n,l]=(0,t.useState)([]),[a,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),r="speechSynthesis"in window;(0,t.useEffect)(()=>{if(!r)return;let e=window.speechSynthesis,t=()=>{l(e.getVoices())};return l(e.getVoices()),e.addEventListener("voiceschanged",t),()=>{e.removeEventListener("voiceschanged",t)}},[r]);let c=(0,t.useCallback)(t=>{if(!r)return;let n=window.speechSynthesis;t.onstart=()=>s(!0),t.onend=()=>{s(!1),o(!1),e?.onEnd?.()},t.onerror=()=>s(!1),n.cancel(),n.speak(t)},[r,e]),u=(0,t.useCallback)(()=>{r&&(window.speechSynthesis.cancel(),s(!1),o(!1))},[r]),d=(0,t.useCallback)(()=>{r&&a&&(window.speechSynthesis.pause(),o(!0))},[r,a]);return{speak:c,speakText:(e,t,l)=>{let a=l.voice||"0",s=l.voice||"0",i=l.rate||"0.6",o=new window.SpeechSynthesisUtterance;o.text=e,o.rate=Number(i),t?o.voice=n[Number(a)]:o.voice=n[Number(s)],o.volume=l.volume,c(o)},cancel:u,pause:d,resume:(0,t.useCallback)(()=>{r&&i&&(window.speechSynthesis.resume(),o(!1))},[r,i]),speaking:a,paused:i,supported:r,voices:n}}e.s(["useSpeechSynthesis",()=>n])},97013,e=>{"use strict";var t=e.i(80642),n=e.i(28337);let l=(e,n,l)=>{let a=!1,s=[],i=n.split(""),o=e.split(""),r=0,c=0;for(;r<o.length+l;){let e={index:r,char:o[c],type:""};if((0,t.isEqualStr)(i[r],o[c],!0))e.type=0;else if(!1===a&&l>0){for(let t=0;t<l;t++)e.type=1,e.char="_",s.push(e),r+=1;a=!0;continue}else e.type=1;o[c]&&s.push(e),r++,c++}return i.length>o.length&&s.push({index:s.length,char:"_",type:1}),s};e.s(["TYPE_CORRECT",0,0,"TYPE_WRONG",0,1,"arrStrCheckToStr",0,e=>{let t="";for(let l=0;l<e.length;l++){let a=e[l];n.default.isEqual(null,a.type)||(n.default.isEqual(a.type,0)?t+="<span class ='ans-check-right'>":n.default.isEqual(a.type,1)?t+="<span class ='ans-check-wrong'>":n.default.isEqual(a.type,2)&&(t+="<span class ='ans-check-hint'>")),t+=a.char}return t+"</span>"},"autoCorrectLetter",0,(e,a)=>{let s=document.getElementById(e).value,i=l(s,a,0);for(let l=0;l<i.length;l++)if(n.default.isEqual(i[l].type,1)){s=(0,t.setCharAt)(s,l,a.substring(l,l+1)),document.getElementById(e).value=s;break}return i},"genHintStrAns",0,(e,t)=>{let a=l(document.getElementById(e).value,t,0);for(let e=0;e<a.length;e++)if(n.default.isEqual(a[e].type,1)){let n=t.substring(e,e+1);a[e].type=2,a[e].char=n;break}return a},"validateArrStrCheck",0,l])},45033,e=>{"use strict";var t=e.i(71866),n=e.i(80744),l=e.i(28337),a=e.i(2579),s=e.i(72066),i=e.i(97968),o=e.i(80642),r=e.i(46086);e.s(["default",0,e=>{let{speak:c,voices:u}=(0,s.useSpeechSynthesis)(),[d,m]=(0,n.useState)([]),[p,h]=(0,n.useState)(e.config.oderRandomS),[g,v]=(0,n.useState)(0),[y,f]=(0,n.useState)(0),[x,b]=(0,n.useState)(e.config.rate),[S,j]=(0,n.useState)(e.config.volume),[E,N]=(0,n.useState)(e.config.defaultSheet),[C,I]=(0,n.useState)(!0),[w,k]=(0,n.useState)(-1),[A,T]=(0,n.useState)(0);return(0,n.useEffect)(()=>{l.default.isEmpty(E)||(0,a.getDataFromExcel)(E,m)},[E]),(0,n.useEffect)(()=>{u.forEach((e,t)=>{e.lang.includes("vi-VN")&&f(t),e.lang.includes("en-US")&&v(t)})},[u]),(0,n.useEffect)(()=>{let e=document.getElementById("timeValue"),t=e?.value||"50";if(!C){let e=setTimeout(()=>{T(A+1)},1e3*Number(t));return k(e),()=>{clearTimeout(e)}}},[A]),(0,n.useEffect)(()=>{e.onChange({...e.config,items:d})},[d]),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{onClick:()=>(0,o.toggleCollapse)(`config-pract-${e.config.index}`),children:(0,t.jsx)(i.FaCog,{})}),(0,t.jsxs)("div",{className:"collapse-content bolder",id:`config-pract-${e.config.index}`,children:[(0,t.jsx)("select",{className:"button-33 inline",value:E,name:"sheet",id:"slsheet",onChange:e=>{e.target.value&&e.target.value!=E&&N(e.target.value)},children:[...a.SHEET_LIST,...r.SHEET_AUTO].map((e,n)=>(0,t.jsx)("option",{value:e.range,children:`${e.name}`},e.range))}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>(0,a.getDataFromExcel)(E,m),children:(0,t.jsx)(i.FaRedo,{})}),(0,t.jsxs)("select",{id:"store-index",name:"store-index",className:"common-btn inline",children:[(0,t.jsx)("option",{value:`${a.STORE_ALIAS}1`,children:"Store1"}),(0,t.jsx)("option",{value:`${a.STORE_ALIAS}2`,children:"Store2"}),(0,t.jsx)("option",{value:`${a.STORE_ALIAS}3`,children:"Store3"})]}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>(function(){let e=document.getElementById("store-index"),t=e?.value;if(t){let e=localStorage.getItem(t),n=e?JSON.parse(e):[];localStorage.setItem(t,JSON.stringify([...n,...d]))}})(),children:"Add"}),(0,t.jsx)("button",{className:"common-btn inline",onClick:()=>{let e,t;return e=document.getElementById("store-index"),void((t=e?.value)&&localStorage.setItem(t,JSON.stringify([])))},children:"Clear"}),(0,t.jsxs)("select",{className:"button-33 inline",name:"genData",id:"slGenData",onChange:t=>{var n;h(n=t.target.value),e.onChange({...e.config,oderRandomS:n})},children:[(0,t.jsx)("option",{value:"random",children:"random"}),(0,t.jsx)("option",{value:"order",children:"order"})]}),(0,t.jsxs)("select",{className:"button-33 inline",id:"voice",name:"voice",value:g||"",onChange:t=>{v(Number(t.target.value)),e.onChange({...e.config,voice:Number(t.target.value)})},children:[(0,t.jsx)("option",{value:"",children:"Default"}),u.map((e,n)=>(0,t.jsx)("option",{value:n,children:`${e.lang} - ${e.name}`},e.voiceURI))]}),(0,t.jsx)("label",{htmlFor:"rate",children:"Speed: "}),(0,t.jsx)("div",{className:"rate-value inline",children:x}),(0,t.jsx)("input",{type:"range",className:"width-220 range-color inline",min:"0.2",max:"2",defaultValue:"0.6",step:"0.1",id:"rate",onChange:t=>{b(Number(t.target.value)),e.onChange({...e.config,rate:Number(t.target.value)})}}),(0,t.jsx)("br",{}),(0,t.jsxs)("label",{htmlFor:"volumn",children:[(0,t.jsx)(i.FaVolumeUp,{className:"iconSound"})," "]}),(0,t.jsx)("span",{className:"rate-value",children:S}),(0,t.jsx)("input",{type:"range",className:"width-220 range-color inline",min:"0.1",max:"1",defaultValue:"0.6",step:"0.1",id:"volumn",onChange:t=>{j(Number(t.target.value)),e.onChange({...e.config,volume:Number(t.target.value)})}})]})]})}])},45458,e=>{"use strict";var t=e.i(71866),n=e.i(80744),l=e.i(28337);class a{constructor(e,t){this.time=e,this.value=t}}var s=e.i(80642),i=e.i(67410),o=e.i(53855),r=e.i(45605);let c=null,u=null,d=null,m=!0,p=0,h=null,g=null,v=null,y=null,f=[],x="lis-url",b="lis-sub";e.s(["default",0,()=>{let e="REPLACE_NO",S="REPLACE_YES",[j,E]=(0,n.useState)([]),[N,C]=(0,n.useState)(""),[I,w]=(0,n.useState)(""),[k,A]=(0,n.useState)(390),[T,B]=(0,n.useState)(10),[O,_]=(0,n.useState)(0),[R,$]=(0,n.useState)(300),[L,D]=(0,n.useState)(e),[U,M]=(0,n.useState)("N"),[H,V]=(0,n.useState)(""),[Y,F]=(0,n.useState)(""),P="LOOP_CUSTOM";(0,n.useEffect)(()=>{l.default.isEmpty(localStorage)||(V(localStorage.getItem(x)||""),F(localStorage.getItem(b)||""));let e=window;if(e.YT)G();else{let t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",e.onYouTubeIframeAPIReady=G;let n=document.getElementsByTagName("script")[0];n?.parentNode&&n.parentNode.insertBefore(t,n)}(0,s.toggleCollapse)("mobile-control"),(0,s.toggleCollapse)("ai-section-yt"),(0,s.toggleCollapse)("hide-control-frame");let t=document.getElementById("cus-loop-control");t&&(t.style.display="block");let n=document.getElementById("timemisus");return n&&(n.value="2"),h=P,g=1,v=1,()=>{u&&clearInterval(u),y&&clearInterval(y)}},[]),(0,n.useEffect)(()=>{if(l.default.isEmpty(j)){let e=document.getElementById("subline-control");e&&(e.style.display="none")}else{let e=document.getElementById("subline-control");e&&(e.style.display="block")}},[j]),(0,n.useEffect)(()=>{localStorage.setItem(x,H)},[H]);let K=(e,t)=>{if(e){let e=(Number(N)+(t?.1:-.1)).toFixed(3);C(e),y&&clearInterval(y),g=Number(e),ei()}else{let e=(Number(I)+(t?.1:-.1)).toFixed(3);w(e),y&&clearInterval(y),v=Number(e),ei()}};(0,n.useEffect)(()=>{localStorage.setItem(b,Y)},[Y]),(0,n.useEffect)(()=>{localStorage.setItem(b,Y);let e=document.getElementById("sub-control");e&&(e.style.height=`${R}px`)},[R]);let G=()=>{let e=window;e.YT&&(c=new e.YT.Player("player",{height:573.3,width:940.8,videoId:"",playerVars:{fs:0,iv_load_policy:3,playsinline:1,modestbranding:0},events:{onReady:q}}))},q=e=>{e.target.playVideo(),u=setInterval(()=>{if(!c||c?.getPlayerState()!==1)return;let e=c.getCurrentTime().toString();e.includes(".")&&(e=e.substring(0,e.lastIndexOf(".")));let t=Math.floor(c.getCurrentTime()/60),n=Math.floor(c.getCurrentTime()%60),l=0;t>60&&(l=Math.floor(t/60),t=Math.floor(t%60));let a=n>9?`${t}:${n}`:`${t}:0${n}`;l>0&&(a.length<5&&(a=`0${a}`),a=`${l}:${a}`);let s=null,i=document.getElementById("sub-item0:00"),o=f.map(e=>({str:e,num:Number(e.replaceAll(":","")),timeS:function(e){let t=e.split(":").map(Number);if(1===t.length)return t[0];if(2===t.length){let[e,n]=t;return 60*e+n}if(3===t.length){let[e,n,l]=t;return 3600*e+60*n+l}throw Error("Invalid time format")}(e)})),r=Number(`${a}`.replaceAll(":",""));for(let e=0;e<o.length;e++)if(r<o[e].num){let t=document.getElementById(`${d}`);if(t&&(t.classList.remove("active"),t.style.background="transparent"),a=o[e>=1?e-1:e].str,(s=document.getElementById(`sub-item${a}`))&&(s.classList.add("active"),d=`sub-item${a}`,e>0)){let t=100,n=o[e].timeS-o[e-1].timeS,l=c.getCurrentTime()-o[e-1].timeS;t=0===n?0:Number((l/n*100).toFixed(0)),s.style.setProperty("background",`linear-gradient(to right, #a6a6a6 ${Math.abs(0==t?10:t)}%, transparent 0)`,"important")}break}if(s&&i){let e=(document.getElementById("sub-control")?.offsetHeight||0)/3,t=i?i.offsetTop:0;var u=s.offsetTop-t-e;let n=document.getElementById("sub-control");n&&n.scrollTo({top:u,behavior:"smooth"})}},200)},J=e=>(0,t.jsxs)("div",{role:"button",className:"sub-item",id:`sub-item${e.time}`,onClick:t=>W(e.time,e.value),children:[e.time,": ",e.value]}),W=(e,t)=>{console.log("=====onClickSub====="),m=!0,p=j.length-1;for(let t=0;t<j.length;t++)l.default.isEqual(j[t].time,e)&&(p=t);L===S&&X(j[p],j[p+1])},z=e=>{c&&c.seekTo(e,!0)},Q=()=>{var e=document.getElementById("txtSrcMedia")?.value||"",t=e.substring(e.lastIndexOf("=")+1,e.length).trim();c&&c.loadVideoById(t,0)},X=(e,t)=>{let n=Z(e),l=Z(t);g=n,v=l,w(l?.toString()||""),C(n?.toString()||""),y&&clearInterval(y),ei()},Z=e=>e?Number(e.time.split(":").reduce((e,t)=>60*e+ +t).toFixed(3)):1,ee=e=>{c&&("https://www.youtube.com/watch"===c.getVideoUrl()&&Q(),1!==c.getPlayerState()?c.playVideo():c.pauseVideo(),console.log(c))},et=()=>{c&&z(Number(c.getCurrentTime()-Number(document.getElementById("timemisus")?.value||"2")))},en=()=>{c&&z(Number(c.getCurrentTime()+Number(document.getElementById("timemisus")?.value||"2")))},el=()=>{let e=document.getElementById("timemisus");if(!e)return;let t=e.value;"5"==t?e.value="2":"2"==t?e.value="3":"3"==t?e.value="5":e.value="3"},ea=()=>{g=1,v=1,C(""),w("")},es=()=>{c&&(1!==g&&1!==v&&ea(),1===g?(C((g=Number(c.getCurrentTime().toFixed(3))).toString()),console.log("destroy intervalCusLoop:"+y),y&&clearInterval(y)):1===v&&(w((v=Number(c.getCurrentTime().toFixed(3))).toString()),!0===m&&null!==g&&g>1&&null!==v&&v>1&&ei()))},ei=()=>{if(!c||null===g||null===v)return;let e=v-g;z(g),y=setInterval(()=>{if(1==g||1==v){y&&clearInterval(y);return}l.default.isEqual(h,P)&&!0===m&&(console.log("replay at:"+g),null!==g&&z(g))},1e3*e)};return(0,t.jsxs)("div",{className:"yt-sub",id:"main-content",tabIndex:0,onKeyDown:e=>{console.log(e.key),"ArrowLeft"===e.key&&et(),"ArrowRight"===e.key&&en(),"ArrowDown"===e.key&&ee(e),"ArrowUp"===e.key&&el(),"Shift"===e.key&&es(),"Control"===e.key&&ea(),"."===e.key&&K(!1,!1),"/"===e.key&&K(!1,!0),";"===e.key&&K(!0,!1),"'"===e.key&&K(!0,!0)},children:[(0,t.jsxs)("div",{id:"maincontent-yt",className:"media-left ",children:[(0,t.jsxs)("div",{id:"vd-control",children:[(0,t.jsx)("div",{id:"player"}),(0,t.jsx)("br",{})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("input",{type:"number",className:"width-30 right common-input",id:"timemisus"}),(0,t.jsx)("br",{}),(0,t.jsx)("span",{onClick:()=>(0,s.toggleCollapse)("hide-control-frame"),children:"+/-"}),(0,t.jsxs)("div",{id:"hide-control-frame",className:"collapse-content bolder",children:[(0,t.jsx)("input",{type:"range",className:"range-input",id:"size",name:"vol",min:"0",max:"1000",value:k,onChange:e=>{var t;let n,l=Number(e.target.value);A(l),B(10),_(0),t=0,_(0),(n=document.getElementById("main-content"))&&(n.style.top=`-${0}px`),c&&c.setSize(1.7*l,l)}}),(0,t.jsx)("br",{})]})]}),(0,t.jsx)("div",{className:"width-100",onClick:()=>(0,s.toggleCollapse)("mobile-control"),children:"Control"}),(0,t.jsxs)("div",{id:"mobile-control",className:"collapse-content bolder",children:[(0,t.jsx)("input",{type:"text",id:"txtSrcMedia",className:"common-input",value:H,onKeyDown:e=>{"Enter"===e.key&&Q()},onChange:e=>{V(e.target.value)}}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:"Load",id:"btnExecute",onClick:()=>Q()}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:"Remove Info",onClick:()=>{var e;(e=document.querySelectorAll(".ytp-player-content.ytp-iv-player-content"))&&e[0]&&(e[0].style.display="none"),console.log('document.querySelectorAll(".ytp-player-content.ytp-iv-player-content")[0].style.display="none"'),navigator.clipboard.writeText('document.querySelectorAll(".ytp-player-content.ytp-iv-player-content")[0].style.display="none"')}}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:"+/-",onClick:()=>{let e;(e=document.getElementById("vd-control"))&&"none"===e.style.display?e.style.display="block":e&&(e.style.display="none")}}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:"<",onClick:()=>et()}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:"||",onClick:()=>ee({})}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:">",onClick:()=>en()}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:"Change times",onClick:()=>el()}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:"Add point",onClick:()=>es()}),(0,t.jsx)("input",{type:"submit",className:"common-btn inline",value:"clear",onClick:()=>ea()}),(0,t.jsxs)("div",{id:"cus-loop-control",children:[(0,t.jsx)("input",{className:"common-input",type:"text",value:N,onChange:e=>{C(e.target.value)},onBlur:()=>{N&&(g=Number(N),y&&clearInterval(y),ei())}}),(0,t.jsx)(o.default,{onUp:()=>K(!0,!0),onDown:()=>K(!0,!1)}),(0,t.jsx)("span",{children:"-"}),(0,t.jsx)("input",{type:"text",className:"common-input",value:I,onChange:e=>{w(e.target.value)},onBlur:()=>{I&&(v=Number(I),y&&clearInterval(y),ei())}}),(0,t.jsx)(o.default,{onUp:()=>K(!1,!0),onDown:()=>K(!1,!1)})]})]}),(0,t.jsx)("div",{className:"width-100",onClick:()=>(0,s.toggleCollapse)("ai-section-yt"),children:"AI"}),(0,t.jsx)("div",{id:"ai-section-yt",className:"collapse-content ",children:(0,t.jsx)(r.default,{prefix:"prc-yts",enableHis:"N",isMini:!1})}),(0,t.jsx)("div",{className:"width-100",onClick:()=>(0,s.toggleCollapse)("hide2"),children:"Sub"}),(0,t.jsxs)("div",{id:"hide2",className:"collapse-content bolder",children:[(0,t.jsx)("div",{id:"hide1"}),(0,t.jsxs)("div",{className:"tooltip",children:["???",(0,t.jsx)("span",{className:"tooltiptext",children:"arrow , and Crtl: clear/ shift: loop"})]}),(0,t.jsxs)("div",{id:"subline-control",children:[(0,t.jsx)("input",{type:"range",className:"range-input",id:"size",name:"vol",min:"30",max:"500",value:R,onChange:e=>{$(Number(e.target.value))}}),(0,t.jsx)("br",{}),(0,t.jsxs)("select",{value:L,onChange:e=>{D(e.target.value)},children:[(0,t.jsx)("option",{value:S,children:"REPLAY_YES"}),(0,t.jsx)("option",{value:e,children:"REPLAY_NO"})]}),(0,t.jsxs)("select",{value:U,onChange:e=>{M(e.target.value)},children:[(0,t.jsx)("option",{value:"Y",children:"Y"}),(0,t.jsx)("option",{value:"N",children:"N"})]}),(0,t.jsx)("input",{type:"submit",value:"Continue",onClick:()=>void(m=!1)}),(0,t.jsx)("input",{type:"submit",value:"<<",onClick:()=>{p>0&&X(j[--p],j[p+1])}}),(0,t.jsx)("input",{type:"submit",value:">>",onClick:()=>{X(j[++p],j[p+1])}}),(0,t.jsx)("div",{id:"sub-control",children:j.map((e,n)=>(0,t.jsx)(J,{time:e.time,value:e.value},`${e.time}${e.value}`))}),(0,t.jsx)("input",{type:"submit",value:"+/-",onClick:()=>{let e;(e=document.getElementById("load-sub"))&&"none"===e.style.display?e.style.display="block":e&&(e.style.display="none")}})]}),(0,t.jsxs)("div",{className:"option-right",children:[" ",(0,t.jsx)("br",{})]}),(0,t.jsxs)("div",{id:"load-sub",children:[(0,t.jsx)("input",{type:"submit",className:"common-btn margin-zr",value:"loadSub",id:"btnLoadSube",onClick:()=>(()=>{var e=(document.getElementById("media-sub")?.value||"").split("\n");let t=1,n="",s=[];f=[];let i=!1,o=/^\d{1,2}:\d{2}/;if(e.forEach((e,l)=>{if(!i&&!o.test(e))return;i=!!o.test(e);let r=e.trim();1===t&&(n=r,f.push(n)),2===t&&(s.push(new a(n,r)),t=0),t++}),E(s),!l.default.isEmpty(s)){let e=document.getElementById("load-sub");e&&(e.style.display="none")}})()}),(0,t.jsx)("br",{}),(0,t.jsx)("textarea",{id:"media-sub",value:Y,onChange:e=>{F(e.target.value)}})]}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{type:"submit",value:"H",id:"btnHide",onClick:()=>{let e,t;return e=document.getElementById("hide1"),t=document.getElementById("hide2"),void(e&&(e.style.display="none"),t&&(t.style.display="none"))}}),(0,t.jsx)("input",{type:"submit",value:"S",id:"btnShow",onClick:()=>{let e,t;return e=document.getElementById("hide1"),t=document.getElementById("hide2"),void(e&&(e.style.display="block"),t&&(t.style.display="block"))}})]})]}),(0,t.jsx)(i.default,{heightRes:180,configs:[{instanceNo:0,prefix:"yts",enableHis:"N",collapse:"N"},{instanceNo:1,prefix:"yts",enableHis:"N",collapse:"N"},{instanceNo:2,prefix:"yts",enableHis:"Y",collapse:"Y"}]})]})}],45458)},72280,e=>{"use strict";let t=e.i(45458).default;e.s(["default",0,t])},6857,e=>{e.v(t=>Promise.all(["static/chunks/26dcfe4c23645568.js"].map(t=>e.l(t))).then(()=>t(17833)))}]);