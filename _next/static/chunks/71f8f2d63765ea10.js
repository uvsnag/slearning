(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14709,e=>{e.v("/slearning/_next/static/media/loading.b3211be2.webp")},72066,e=>{"use strict";var a=e.i(80744);function t(e,a,t){return Math.min(t,Math.max(a,e))}function n(){return"speechSynthesis"in window?window.speechSynthesis.getVoices():[]}function s(e){if(e&&"undefined"!=typeof navigator)try{let e=navigator;e.audioSession&&"playback"!==e.audioSession.type&&(e.audioSession.type="playback")}catch{}}function i(e){let[i,l]=(0,a.useState)(n),[r,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),d="speechSynthesis"in window,g=(0,a.useRef)(!1),h=(0,a.useMemo)(()=>"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),[]);(0,a.useEffect)(()=>{if(!d)return;let e=window.speechSynthesis,a=()=>{l(e.getVoices())};return a(),e.addEventListener("voiceschanged",a),()=>{e.removeEventListener("voiceschanged",a)}},[d]),(0,a.useEffect)(()=>{if(!d||!h)return;let e=()=>s(h);return e(),document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[d,h]),(0,a.useEffect)(()=>{if(!d||!h)return;let e=()=>{if(g.current)return;g.current=!0,s(h);let e=window.speechSynthesis,a=new window.SpeechSynthesisUtterance(" ");a.volume=0,a.rate=1,a.lang="en-US",e.speak(a)};return window.addEventListener("touchstart",e,{once:!0,passive:!0}),window.addEventListener("click",e,{once:!0,passive:!0}),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("click",e)}},[d,h]);let m=(0,a.useCallback)(a=>{if(!d)return;let t=window.speechSynthesis;a.onstart=()=>{o(!0),u(!1)},a.onend=()=>{o(!1),u(!1),e?.onEnd?.()},a.onerror=()=>{o(!1),u(!1)};let n=()=>{s(h),t.speak(a)};(t.speaking||t.pending)&&t.cancel(),h?window.setTimeout(n,140):n()},[d,e,h]),p=(0,a.useCallback)(()=>{d&&(window.speechSynthesis.cancel(),o(!1),u(!1))},[d]),v=(0,a.useCallback)(()=>{d&&r&&(window.speechSynthesis.pause(),u(!0))},[d,r]),f=(0,a.useCallback)(()=>{d&&c&&(s(h),window.speechSynthesis.resume(),u(!1))},[d,c,h]),y=(0,a.useCallback)((e,a,n)=>{if(!d)return;let s=(e||"").trim();if(!s)return;let l=Number(n?.voice??0),r=Number.isFinite(l)?i[l]:void 0,o=a?"en":"vi",c=i.find(e=>e.lang?.toLowerCase().startsWith(o)),u=new window.SpeechSynthesisUtterance(s);u.voice=r??c??null,u.lang=u.voice?.lang||(a?"en-US":"vi-VN"),u.rate=t(Number(n?.rate??.6),.1,10),u.volume=t(Number(n?.volume??1),0,1),m(u)},[d,i,m]);return{speak:m,speakText:y,cancel:p,pause:v,resume:f,speaking:r,paused:c,supported:d,voices:i}}e.s(["useSpeechSynthesis",()=>i])},2579,12233,e=>{"use strict";let a={notify:{sheetDefault:"Notify!A2:C500"},listen:{sheetDefault:"Notify!Y2:AA500"},clientId:"897570143608-dvfjhqfsi125cne619dvu3qqfdep6ui6.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],spreadsheetId:"1w_LXJm2Vsw11IlhyuwaMJEWQLT36kgrJ3fJUQwA37fg"};e.s(["default",0,a],12233);var t=e.i(28337),n=e.i(80642);let s="STORE_E",i=[{range:"Notify!A2:C500",name:"Board1"},{range:"Notify!E2:G500",name:"Board2"},{range:"Notify!I2:K500",name:"Board3"},{range:"Notify!M2:O500",name:"Board4"},{range:"Notify!Q2:S500",name:"Board5"},{range:"Notify!U2:W500",name:"Board6"},{range:"Notify!Y2:AA500",name:"Board7"},{range:"Batch1!A2:B500",name:"B1Board1"},{range:"Batch1!D2:E500",name:"B1Board2"},{range:"Batch1!G2:H500",name:"B1Board3"},{range:"Batch1!J2:K500",name:"B1Board4"},{range:"Batch1!M2:N500",name:"B1Board5"},{range:"Batch1!P2:Q500",name:"B1Board6"},{range:"Batch1!S2:T500",name:"B1Board7"},{range:"Batch1!V2:W500",name:"B1Board8"},{range:"Batch1!Y2:Z500",name:"B1Board9"},{range:"Batch1!AB2:AC500",name:"B1Board10"},{range:"Batch2!A2:B500",name:"B2Board1"},{range:"Batch2!G2:H500",name:"B2Board3"},{range:"Batch2!J2:K500",name:"B2Board4"},{range:"Batch2!M2:N500",name:"B2Board5"},{range:`${s}1`,name:"Store1"},{range:`${s}2`,name:"Store2"},{range:`${s}3`,name:"Store3"}],l=async(e,s)=>e.client.sheets.spreadsheets.values.get({spreadsheetId:localStorage.getItem(n.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(n.KEY_GOOGLE_SHEET_NM):a.spreadsheetId,range:t.default.isEmpty(s)?a.notify.sheetDefault:s}),r=async(e,a,n)=>{e.client.load("sheets","v4",async()=>{let s=await l(e,n);console.log("Response",s);let i=s.result?.values;a(i?.filter(e=>!t.default.isEmpty(e)).filter(e=>!t.default.isEmpty(e[0])).map(e=>({eng:e[0],vi:e[1],customDefine:e[2]}))||[])})},o=async(e,t,s,i,l)=>{let r=await e.auth2.getAuthInstance();r.isSignedIn.get()||await r.signIn(),e.client.load("sheets","v4",()=>{let r=localStorage.getItem(n.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(n.KEY_GOOGLE_SHEET_NM):a.spreadsheetId,o=`${s}!${i}`;e.client.sheets.spreadsheets.values.update({spreadsheetId:r,range:o,valueInputOption:"USER_ENTERED",resource:{values:[[l]]}}).then(e=>{t&&t({success:!0,updates:e.result.updates})})})},c=async(t,s,i,l,c)=>{let{gapi:u}=await e.A(6857);u.load("client:auth2",async()=>{let e=localStorage.getItem(n.KEY_API_SHEET);await u.client.init({apiKey:e,clientId:a.clientId,discoveryDocs:a.discoveryDocs,scope:a.scope}),"get"===i&&await u.client.load("sheets","v4",async()=>{r(u,t,s)}),"update"===i&&o(u,t,s,l||"A1",c||"")})},u=async(e,a)=>{if(e?.startsWith(s)){let t=localStorage.getItem(e);a(t?JSON.parse(t):[])}else await c(a,e,"get")};async function d(e,a,t){if(t?.startsWith(s)){let a=localStorage.getItem(t),n=a?JSON.parse(a):[];n=n.filter(a=>a.eng!=e),localStorage.setItem(t,JSON.stringify([...n]))}else await g({callback:e=>{e?.success?console.log("Data saved successfully!"):console.log("Failed to save data")},range:t,value1:"",value2:"",updateWhenEquals:e});a()}let g=async({callback:s,range:i,value1:l,value2:r,updateWhenEquals:o=null})=>{console.log("Update GG Sheet:",{range:i,value1:l,value2:r,updateWhenEquals:o}),i.startsWith("AUTO")||(o=null);let{gapi:c}=await e.A(6857);c.load("client:auth2",async()=>{let e=localStorage.getItem(n.KEY_API_SHEET);await c.client.init({apiKey:e,clientId:a.clientId,discoveryDocs:a.discoveryDocs,scope:a.scope});let u=await c.auth2.getAuthInstance();u.isSignedIn.get()||await u.signIn(),c.client.load("sheets","v4",async()=>{let e=localStorage.getItem(n.KEY_GOOGLE_SHEET_NM)?localStorage.getItem(n.KEY_GOOGLE_SHEET_NM):a.spreadsheetId,u=i.split("!"),d=u[0],g=(u[1]?.split(":")[0]||"A2").match(/([A-Z]+)(\d+)/);if(!g){s&&s({success:!1,error:"Invalid cell format"});return}let h=g[1],m=parseInt(g[2],10),p=(e=>{let a="",t=1;for(let n=e.length-1;n>=0;n--){let s=e.charCodeAt(n)+t;s>90?(s=65,t=1):t=0,a=String.fromCharCode(s)+a}return t&&(a="A"+a),a})(h);try{let a=await c.client.sheets.spreadsheets.values.get({spreadsheetId:e,range:i}),n=a.result?.values||[],u=m;for(let e=0;e<n.length;e++){let a=n[e];if(o){if(a&&a.length>0&&a[0]===o){u=m+e;break}}else if(!a||0===a.length||t.default.isEmpty(a[0])){u=m+e;break}e===n.length-1&&(u=m+n.length)}0===n.length&&(u=m);let g=`${d}!${h}${u}:${p}${u}`;c.client.sheets.spreadsheets.values.update({spreadsheetId:e,range:g,valueInputOption:"USER_ENTERED",resource:{values:[[l,r]]}}).then(e=>{s&&s({success:!0,updates:e.result.updates})}).catch(e=>{s&&s({success:!1,error:e.message})})}catch(e){s&&s({success:!1,error:e.message||"Failed to read sheet data"})}})})};e.s(["SHEET_LIST",0,i,"STORE_ALIAS",0,s,"getDataFromExcel",0,u,"ggSheetUpdateTwoValues",0,g,"onRemoveStoreItem",()=>d],2579)},46086,e=>{"use strict";var a=e.i(71866),t=e.i(80744),n=e.i(2579);let s=()=>{let t=async()=>{let{gapi:a}=await e.A(6857),t=await a.auth2.getAuthInstance();await t.signOut(),await t.signIn()};return(0,a.jsx)("button",{type:"button",className:"common-input",onClick:t,children:"log in"})},i=[{range:"AUTO!A2:C500",name:"ABoard1"},{range:"AUTO!E2:G500",name:"ABoard2"},{range:"AUTO!I2:K500",name:"ABoard3"},{range:"AUTO!M2:O500",name:"ABoard4"},{range:"AUTO!Q2:S500",name:"ABoard5"},{range:"AUTO!U2:W500",name:"ABoard6"},{range:"AUTO!Y2:AA500",name:"ABoard7"}];e.s(["SHEET_AUTO",0,i,"default",0,e=>{let[l,r]=(0,t.useState)(e.propSheet||i[0]?.range||""),[o,c]=(0,t.useState)(e.value1||""),[u,d]=(0,t.useState)(e.value2||""),[g,h]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[v,f]=(0,t.useState)(e.isUse||!1);(0,t.useEffect)(()=>{v?(c(e.value1||""),d(e.value2||"")):(c(""),d(""))},[e.value1,e.value2,v]);let y=async()=>{if(!l.trim())return void h(" Please select a sheet range");p(!0),h("Saving...");try{await (0,n.ggSheetUpdateTwoValues)({callback:e=>{e?.success?(h("Data saved successfully!"),c(""),d("")):h(` Error: ${e?.error||"Failed to save data"}`),p(!1)},range:l,value1:o,value2:u})}catch(e){h(` Error: ${e?.message||"Failed to save data"}`),p(!1)}setTimeout(()=>{h("")},5e3)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[(0,a.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Value 1",className:"common-input",style:{width:"140px"}}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Value 2",className:"common-input",style:{width:"230px"}}),(0,a.jsx)("button",{onClick:y,disabled:m,className:"common-btn",children:m?"Saving...":" Save"}),(0,a.jsx)("br",{}),(0,a.jsx)("select",{value:l,onChange:e=>r(e.target.value),className:"common-input",children:i.map(e=>(0,a.jsx)("option",{value:e.range,children:e.name},e.range))}),(0,a.jsx)("input",{type:"checkbox",checked:v,onChange:e=>{f(e.target.checked)}}),(0,a.jsx)(s,{})]}),g&&(0,a.jsx)("div",{children:g})]})}],46086)},55799,e=>{"use strict";var a=e.i(71866),t=e.i(97968);e.s(["default",0,({voices:e,voiceIndex:n,rate:s,volumn:i,onVoiceChange:l,onRateChange:r,onVolumnChange:o})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("select",{className:"button-33 inline",id:"voice",name:"voice",value:n||"",onChange:e=>{l(Number(e.target.value))},children:[(0,a.jsx)("option",{value:"",children:"Default"}),e.map((e,t)=>(0,a.jsx)("option",{value:t,children:`${e.lang} - ${e.name}`},e.voiceURI))]}),(0,a.jsx)("label",{htmlFor:"rate",children:"Speed: "}),(0,a.jsx)("div",{className:"rate-value inline",children:s}),(0,a.jsx)("input",{type:"range",className:"width-220 range-color inline",min:"0.2",max:"2",defaultValue:"0.6",step:"0.1",id:"rate",onChange:e=>{r(Number(e.target.value))}}),(0,a.jsx)("br",{}),(0,a.jsxs)("label",{htmlFor:"volumn",children:[(0,a.jsx)(t.FaVolumeUp,{className:"iconSound"})," "]}),(0,a.jsx)("span",{className:"rate-value",children:i}),(0,a.jsx)("input",{type:"range",className:"width-220 range-color inline",min:"0.1",max:"1",defaultValue:"0.6",step:"0.1",id:"volumn",onChange:e=>{o(Number(e.target.value))}})]})])},28297,e=>{"use strict";let a=(0,e.i(65902).default)(()=>e.A(6766),{loadableGenerated:{modules:[35916]},ssr:!1});e.s(["default",0,a])},77758,e=>{"use strict";var a=e.i(71866),t=e.i(80744),n=e.i(58078),s=e.i(2579),i=e.i(46086),l=e.i(80642),r=e.i(28297);let o="Talking to a foreign colleague during lunch",c=i.SHEET_AUTO.find(e=>"ABoard7"===e.name)?.range||"AUTO!Y2:AA500";e.s(["default",0,()=>{let[e,i]=(0,t.useState)([]),[u,d]=(0,t.useState)(o);(0,t.useEffect)(()=>{(0,s.getDataFromExcel)(c,e=>{let a=e.map(e=>e.eng?.trim()).filter(e=>!!e);i(a),a.length>0&&d(a[0])})},[]);let g=(0,t.useMemo)(()=>`
SCENARIO: ${u}


You are my professional English speaking coach.

My goal is to improve my spoken English for real-life situations, especially for work and daily communication.

Rules:

I will speak first (my English may be broken or unnatural).

After I finish speaking, you must:

Correct my grammar clearly.

Rewrite my sentence in natural, confident spoken English.

Briefly explain my main mistakes.

Then continue the conversation naturally based on the scenario.

Keep the conversation realistic and practical.

Focus on spoken English (not academic writing).

Ask follow-up questions to make the conversation deeper.

Keep explanations short and clear.

Format your response like this:

Correction:
(Natural version)

Explanation:
(Short explanation of mistakes)

Continue conversation:
(Continue naturally and ask me something)

You talk first. Let's start the conversation now!
  `,[u]);return(0,a.jsxs)("div",{className:"mobile",children:[(0,a.jsxs)("select",{className:"button-33 inline",value:u,onChange:e=>d(e.target.value),children:[0===e.length&&(0,a.jsx)("option",{value:o,children:o}),e.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)(n.default,{index:0,prefix:"speak-ai",enableHis:"Y",heightRes:280,isSpeak:"Y",isMini:null,firstAsk:g,collapse:"N"},u),(0,a.jsx)("div",{className:"width-100",onClick:()=>(0,l.toggleCollapse)("mul-ai"),children:"Mul-AI"}),(0,a.jsx)("div",{id:"mul-ai",className:"collapse-content bolder",children:(0,a.jsx)(r.default,{heightRes:180,cols:1,configs:[{instanceNo:0,prefix:"yts",enableHis:"N",collapse:"N"},{instanceNo:1,prefix:"yts",enableHis:"N",collapse:"N"},{instanceNo:2,prefix:"yts",enableHis:"Y",collapse:"Y"}]})})]})}])},49829,e=>{e.n(e.i(77758))},6857,e=>{e.v(a=>Promise.all(["static/chunks/26dcfe4c23645568.js"].map(a=>e.l(a))).then(()=>a(17833)))},6766,e=>{e.v(a=>Promise.all(["static/chunks/cb8203f5bdeb9117.js"].map(a=>e.l(a))).then(()=>a(35916)))}]);